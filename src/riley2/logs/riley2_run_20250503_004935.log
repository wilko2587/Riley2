[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:49:36[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day

  2. February 23: World Radio Day

  3. February 24: United Nations (UN) Day for the Elimination of Racial Discrimination

  4. February 25: International Day of Definitely Not Making Up Random Holidays

  5. February 26: International Fancy Dress Day (unofficial, but fun!)

  6. February 27: International Polar Bear Day

  7. February 28: International Moment of Laughter Day (unofficial, but fun!)
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 22: International Mother Language Day

  2. February 23: World Radio Day

  3. February 24: United Nations (UN) Day for the Elimination of Racial Discrimination

  4. February 25: International Day of Definitely Not Making Up Random Holidays

  5. February 26: International Fancy Dress Day (unofficial, but fun!)

  6. February 27: International Polar Bear Day

  7. February 28: International Moment of Laughter Day (unofficial, but fun!)
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:36[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:36[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:37[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:49:37[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Good news! Your requested search on the calendar for May 15th, 2025 has returned a result. It appears there's a meeting scheduled for 9 AM with the Sales team. Please make sure to prepare accordingly. Have a great day!
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Good news! Your requested search on the calendar for May 15th, 2025 has returned a result. It appears there's a meeting scheduled for 9 AM with the Sales team. Please make sure to prepare accordingly. Have a great day!
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:37[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:38.053898Z', 'done': True, 'done_reason': 'stop', 'total_duration': 518524500, 'load_duration': 3854800, 'prompt_eval_count': 92, 'prompt_eval_duration': 24391300, 'eval_count': 44, 'eval_duration': 490278400, 'model_name': 'mistral'} id='run-20bd2184-dcf3-4782-93d2-1d060a9178ab-0' usage_metadata={'input_tokens': 92, 'output_tokens': 44, 'total_tokens': 136}
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:38.053898Z', 'done': True, 'done_reason': 'stop', 'total_duration': 518524500, 'load_duration': 3854800, 'prompt_eval_count': 92, 'prompt_eval_duration': 24391300, 'eval_count': 44, 'eval_duration': 490278400, 'model_name': 'mistral'} id='run-20bd2184-dcf3-4782-93d2-1d060a9178ab-0' usage_metadata={'input_tokens': 92, 'output_tokens': 44, 'total_tokens': 136}
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day - A UNESCO observance held annually on the 21st of February to promote linguistic and cultural diversity and multilingualism.

2. February 23: United Nations Day for Women's Rights and Gender Equality (International Women's Day) - A day that celebrates women's achievements, raises awareness about women's equality, and marks a call to action for accelerating gender parity.

3. February 24: Human Factors and Ergonomics Day - A day dedicated to raising awareness of the importance of human factors/ergonomics in design, engineering, and technology.

4. February 25: International Day of Making a Difference - A day that encourages individuals to take action and make a positive impact on their communities and the world.

5. February 26: Tell a Fairy Tale Day - A day dedicated to sharing and enjoying fairy tales, both old and new.

6. February 27: International Polar Bear Day - A day that raises awareness about the threats facing polar bears in the wild and encourages conservation efforts.

7. February 28: International Science Day - A day that highlights the importance of science as a means to improve our lives, and promotes scientific literacy and the role of science in society.
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 22: International Mother Language Day - A UNESCO observance held annually on the 21st of February to promote linguistic and cultural diversity and multilingualism.

2. February 23: United Nations Day for Women's Rights and Gender Equality (International Women's Day) - A day that celebrates women's achievements, raises awareness about women's equality, and marks a call to action for accelerating gender parity.

3. February 24: Human Factors and Ergonomics Day - A day dedicated to raising awareness of the importance of human factors/ergonomics in design, engineering, and technology.

4. February 25: International Day of Making a Difference - A day that encourages individuals to take action and make a positive impact on their communities and the world.

5. February 26: Tell a Fairy Tale Day - A day dedicated to sharing and enjoying fairy tales, both old and new.

6. February 27: International Polar Bear Day - A day that raises awareness about the threats facing polar bears in the wild and encourages conservation efforts.

7. February 28: International Science Day - A day that highlights the importance of science as a means to improve our lives, and promotes scientific literacy and the role of science in society.
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:38[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:39[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:49:39[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response: Great news! I found that a meeting is scheduled for May 15, 2025, at 9 AM and it's with our Sales team. Make sure to mark your calendar accordingly!
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output: Great news! I found that a meeting is scheduled for May 15, 2025, at 9 AM and it's with our Sales team. Make sure to mark your calendar accordingly!
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:39[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:39[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:40.0068044Z', 'done': True, 'done_reason': 'stop', 'total_duration': 599235600, 'load_duration': 3479100, 'prompt_eval_count': 92, 'prompt_eval_duration': 1506600, 'eval_count': 71, 'eval_duration': 594249900, 'model_name': 'mistral'} id='run-a206caac-9ff8-4070-b04d-448bd06363b6-0' usage_metadata={'input_tokens': 92, 'output_tokens': 71, 'total_tokens': 163}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:40.0068044Z', 'done': True, 'done_reason': 'stop', 'total_duration': 599235600, 'load_duration': 3479100, 'prompt_eval_count': 92, 'prompt_eval_duration': 1506600, 'eval_count': 71, 'eval_duration': 594249900, 'model_name': 'mistral'} id='run-a206caac-9ff8-4070-b04d-448bd06363b6-0' usage_metadata={'input_tokens': 92, 'output_tokens': 71, 'total_tokens': 163}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User → BackendManager: Asked about latest boss email
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager → LLM: Determined email search needed
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [Action] BackendManager → EmailAgent: Executed email search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 4. [Result] EmailAgent → BackendManager: Found latest email about Project Update
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 5. [Output] BackendManager → User: Provided email details
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User → BackendManager: Asked about trip to Italy
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager → LLM: Determined calendar search needed
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [Action] BackendManager → CalendarAgent: Executed calendar search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 4. [Result] CalendarAgent → BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 5. [Output] BackendManager → User: Provided trip details
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User → BackendManager: Said they have enough information
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [Analysis] BackendManager → LLM: Analyzed if conversation should end
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager → System: Decided to end the conversation turn
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User → Frontend: Asked about meetings
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [Process] Frontend → LLM: Generated query response
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [Output] Frontend → User: Provided meeting information
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m────────────────────────────────────────────────────────────────────────────────[0m

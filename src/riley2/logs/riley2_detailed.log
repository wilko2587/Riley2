2025-05-02 23:02:23,712 - INFO - riley2 - log_test_step - [TEST STEP] Testing backend_planner_llm decision-making.
2025-05-02 23:02:23,712 - INFO - riley2 - log_test_step - [TEST STEP] Testing backend_planner_llm decision-making.
2025-05-02 23:02:23,724 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:02:23,724 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:02:23,726 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:02:23,726 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:02:27,868 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. February 28:

- International Polar Bear Day (Virtual Event)
- World Rare Disease Day (Virtual Event)
- National Public Sleep Awareness Night (Observed)

March 1:

- World Compliment Day (Observed)
- World Book Day (Observed, mainly in the UK and Ireland)
- Samaritan's Purse Annual Project Philip Launch (Virtual Event)

March 2:

- World Wide Fund for Nature (WWF) Panda Day (Observed)
- National Read Across America Day (Observed, USA)
- International Women's Day (Observed globally)

March 3:

- World Wildlife Day (Observed globally)
- National Anthem Day (Observed in the USA)
- World Hearing Day (Observed globally)

These events cover a range of topics, from wildlife conservation to literacy and women's rights. It is essential to remember that many organizations host virtual events or campaigns related to these days, so be sure to check out their websites for more information on how you can participate.
2025-05-02 23:02:27,868 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. February 28:

- International Polar Bear Day (Virtual Event)
- World Rare Disease Day (Virtual Event)
- National Public Sleep Awareness Night (Observed)

March 1:

- World Compliment Day (Observed)
- World Book Day (Observed, mainly in the UK and Ireland)
- Samaritan's Purse Annual Project Philip Launch (Virtual Event)

March 2:

- World Wide Fund for Nature (WWF) Panda Day (Observed)
- National Read Across America Day (Observed, USA)
- International Women's Day (Observed globally)

March 3:

- World Wildlife Day (Observed globally)
- National Anthem Day (Observed in the USA)
- World Hearing Day (Observed globally)

These events cover a range of topics, from wildlife conservation to literacy and women's rights. It is essential to remember that many organizations host virtual events or campaigns related to these days, so be sure to check out their websites for more information on how you can participate.
2025-05-02 23:02:27,868 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. February 28:

- International Polar Bear Day (Virtual Event)
- World Rare Disease Day (Virtual Event)
- National Public Sleep Awareness Night (Observed)

March 1:

- World Compliment Day (Observed)
- World Book Day (Observed, mainly in the UK and Ireland)
- Samaritan's Purse Annual Project Philip Launch (Virtual Event)

March 2:

- World Wide Fund for Nature (WWF) Panda Day (Observed)
- National Read Across America Day (Observed, USA)
- International Women's Day (Observed globally)

March 3:

- World Wildlife Day (Observed globally)
- National Anthem Day (Observed in the USA)
- World Hearing Day (Observed globally)

These events cover a range of topics, from wildlife conservation to literacy and women's rights. It is essential to remember that many organizations host virtual events or campaigns related to these days, so be sure to check out their websites for more information on how you can participate.
2025-05-02 23:02:27,868 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. February 28:

- International Polar Bear Day (Virtual Event)
- World Rare Disease Day (Virtual Event)
- National Public Sleep Awareness Night (Observed)

March 1:

- World Compliment Day (Observed)
- World Book Day (Observed, mainly in the UK and Ireland)
- Samaritan's Purse Annual Project Philip Launch (Virtual Event)

March 2:

- World Wide Fund for Nature (WWF) Panda Day (Observed)
- National Read Across America Day (Observed, USA)
- International Women's Day (Observed globally)

March 3:

- World Wildlife Day (Observed globally)
- National Anthem Day (Observed in the USA)
- World Hearing Day (Observed globally)

These events cover a range of topics, from wildlife conservation to literacy and women's rights. It is essential to remember that many organizations host virtual events or campaigns related to these days, so be sure to check out their websites for more information on how you can participate.
2025-05-02 23:02:27,868 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:02:27,868 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:02:27,877 - INFO - riley2 - log_test_step - [TEST STEP] Testing interpret_tool_command basic functionality.
2025-05-02 23:02:27,877 - INFO - riley2 - log_test_step - [TEST STEP] Testing interpret_tool_command basic functionality.
2025-05-02 23:02:27,878 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:02:27,878 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:02:27,879 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:02:27,879 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:02:27,879 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:02:27,879 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:02:28,339 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:02:28,339 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:02:28,340 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  I have searched the calendar for the specified date and found an entry. It appears that there is a meeting scheduled for May 15th, 2025 at 9 AM. This meeting seems to be with our Sales department.
2025-05-02 23:02:28,340 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  I have searched the calendar for the specified date and found an entry. It appears that there is a meeting scheduled for May 15th, 2025 at 9 AM. This meeting seems to be with our Sales department.
2025-05-02 23:02:28,341 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  I have searched the calendar for the specified date and found an entry. It appears that there is a meeting scheduled for May 15th, 2025 at 9 AM. This meeting seems to be with our Sales department.
2025-05-02 23:02:28,341 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  I have searched the calendar for the specified date and found an entry. It appears that there is a meeting scheduled for May 15th, 2025 at 9 AM. This meeting seems to be with our Sales department.
2025-05-02 23:02:28,342 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:02:28,342 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:02:28,344 - INFO - riley2 - log_test_step - [TEST STEP] Testing summarize_text basic functionality.
2025-05-02 23:02:28,344 - INFO - riley2 - log_test_step - [TEST STEP] Testing summarize_text basic functionality.
2025-05-02 23:02:28,346 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:02:28,346 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:02:28,346 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:02:28,346 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:02:28,347 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:02:28,347 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:02:29,012 - DEBUG - riley2 - summarize_text - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:02:29.0090849Z', 'done': True, 'done_reason': 'stop', 'total_duration': 656419500, 'load_duration': 5943000, 'prompt_eval_count': 92, 'prompt_eval_duration': 10875700, 'eval_count': 77, 'eval_duration': 639600800, 'model_name': 'mistral'} id='run-3ff0a54b-56a5-4873-bbd9-b67b4cb17976-0' usage_metadata={'input_tokens': 92, 'output_tokens': 77, 'total_tokens': 169}
2025-05-02 23:02:29,012 - DEBUG - riley2 - summarize_text - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:02:29.0090849Z', 'done': True, 'done_reason': 'stop', 'total_duration': 656419500, 'load_duration': 5943000, 'prompt_eval_count': 92, 'prompt_eval_duration': 10875700, 'eval_count': 77, 'eval_duration': 639600800, 'model_name': 'mistral'} id='run-3ff0a54b-56a5-4873-bbd9-b67b4cb17976-0' usage_metadata={'input_tokens': 92, 'output_tokens': 77, 'total_tokens': 169}
2025-05-02 23:02:29,012 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:02:29.0090849Z', 'done': True, 'done_reason': 'stop', 'total_duration': 656419500, 'load_duration': 5943000, 'prompt_eval_count': 92, 'prompt_eval_duration': 10875700, 'eval_count': 77, 'eval_duration': 639600800, 'model_name': 'mistral'} id='run-3ff0a54b-56a5-4873-bbd9-b67b4cb17976-0' usage_metadata={'input_tokens': 92, 'output_tokens': 77, 'total_tokens': 169}
2025-05-02 23:02:29,012 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:02:29.0090849Z', 'done': True, 'done_reason': 'stop', 'total_duration': 656419500, 'load_duration': 5943000, 'prompt_eval_count': 92, 'prompt_eval_duration': 10875700, 'eval_count': 77, 'eval_duration': 639600800, 'model_name': 'mistral'} id='run-3ff0a54b-56a5-4873-bbd9-b67b4cb17976-0' usage_metadata={'input_tokens': 92, 'output_tokens': 77, 'total_tokens': 169}
2025-05-02 23:02:29,014 - INFO - riley2 - summarize_text - [LLM Final Output]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!
2025-05-02 23:02:29,014 - INFO - riley2 - summarize_text - [LLM Final Output]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!
2025-05-02 23:02:29,014 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!
2025-05-02 23:02:29,014 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and be ready for a productive discussion. If there's anything specific you'd like to focus on during this meeting, feel free to let me know and I can help you gather relevant information. Looking forward to it!
2025-05-02 23:02:29,014 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:02:29,014 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:02:29,019 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'email from boss'.
2025-05-02 23:02:29,019 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'email from boss'.
2025-05-02 23:02:29,021 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:02:29,021 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:02:29,021 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:02:29,021 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:02:29,023 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:02:29,023 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:02:29,024 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:02:29,024 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:02:29,025 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:02:29,025 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:02:29,027 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:02:29,027 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:02:29,028 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:02:29,028 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:02:29,029 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:02:29,029 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:02:29,030 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:02:29,030 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:02:29,031 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:02:29,031 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:02:29,031 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:02:29,031 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:02:29,034 - INFO - riley2 - log_test_step - [TEST STEP] Testing get_decision end-turn logic.
2025-05-02 23:02:29,034 - INFO - riley2 - log_test_step - [TEST STEP] Testing get_decision end-turn logic.
2025-05-02 23:02:29,034 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:02:29,034 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:02:29,035 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:02:29,035 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:02:29,036 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:02:29,036 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:02:29,037 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:02:29,037 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:02:29,038 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:02:29,038 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:08:03,638 - INFO - riley2 - log_test_step - [TEST STEP] Testing backend_planner_llm decision-making.
2025-05-02 23:08:03,638 - INFO - riley2 - log_test_step - [TEST STEP] Testing backend_planner_llm decision-making.
2025-05-02 23:08:03,638 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:08:03,638 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:08:03,638 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:08:03,638 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:08:07,629 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. January 25: National Opposite Day - A day where people say the opposite of what they mean, often as a fun and playful way to challenge communication norms.

2. January 26: Australia Day - Celebrated annually on January 26, this holiday marks the anniversary of the 1788 arrival of the First Fleet of British ships at New South Wales and the proclamation of Australian territory as a penal colony.

3. January 27: International Holocaust Remembrance Day - A day to honor the six million Jews who were murdered during the Holocaust, as well as the millions of other victims of Nazi persecution and subsequent genocides.

4. January 28: Data Privacy Day - An international effort by the National Cyber Security Alliance (NCSA) in the United States, Data Privacy Day raises awareness about the importance of privacy and protecting personal data.

5. January 30: International Holocaust Memorial Day - Marking the anniversary of the liberation of the Auschwitz concentration camp by Soviet forces in 1945, this day is dedicated to remembering the victims of the Holocaust and promoting education about this dark chapter in history.

6. January 31: Backward Day - A fun and quirky holiday where people are encouraged to do things backward, such as wearing clothes inside out or eating dessert before dinner.
2025-05-02 23:08:07,629 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. January 25: National Opposite Day - A day where people say the opposite of what they mean, often as a fun and playful way to challenge communication norms.

2. January 26: Australia Day - Celebrated annually on January 26, this holiday marks the anniversary of the 1788 arrival of the First Fleet of British ships at New South Wales and the proclamation of Australian territory as a penal colony.

3. January 27: International Holocaust Remembrance Day - A day to honor the six million Jews who were murdered during the Holocaust, as well as the millions of other victims of Nazi persecution and subsequent genocides.

4. January 28: Data Privacy Day - An international effort by the National Cyber Security Alliance (NCSA) in the United States, Data Privacy Day raises awareness about the importance of privacy and protecting personal data.

5. January 30: International Holocaust Memorial Day - Marking the anniversary of the liberation of the Auschwitz concentration camp by Soviet forces in 1945, this day is dedicated to remembering the victims of the Holocaust and promoting education about this dark chapter in history.

6. January 31: Backward Day - A fun and quirky holiday where people are encouraged to do things backward, such as wearing clothes inside out or eating dessert before dinner.
2025-05-02 23:08:07,629 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. January 25: National Opposite Day - A day where people say the opposite of what they mean, often as a fun and playful way to challenge communication norms.

2. January 26: Australia Day - Celebrated annually on January 26, this holiday marks the anniversary of the 1788 arrival of the First Fleet of British ships at New South Wales and the proclamation of Australian territory as a penal colony.

3. January 27: International Holocaust Remembrance Day - A day to honor the six million Jews who were murdered during the Holocaust, as well as the millions of other victims of Nazi persecution and subsequent genocides.

4. January 28: Data Privacy Day - An international effort by the National Cyber Security Alliance (NCSA) in the United States, Data Privacy Day raises awareness about the importance of privacy and protecting personal data.

5. January 30: International Holocaust Memorial Day - Marking the anniversary of the liberation of the Auschwitz concentration camp by Soviet forces in 1945, this day is dedicated to remembering the victims of the Holocaust and promoting education about this dark chapter in history.

6. January 31: Backward Day - A fun and quirky holiday where people are encouraged to do things backward, such as wearing clothes inside out or eating dessert before dinner.
2025-05-02 23:08:07,629 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. January 25: National Opposite Day - A day where people say the opposite of what they mean, often as a fun and playful way to challenge communication norms.

2. January 26: Australia Day - Celebrated annually on January 26, this holiday marks the anniversary of the 1788 arrival of the First Fleet of British ships at New South Wales and the proclamation of Australian territory as a penal colony.

3. January 27: International Holocaust Remembrance Day - A day to honor the six million Jews who were murdered during the Holocaust, as well as the millions of other victims of Nazi persecution and subsequent genocides.

4. January 28: Data Privacy Day - An international effort by the National Cyber Security Alliance (NCSA) in the United States, Data Privacy Day raises awareness about the importance of privacy and protecting personal data.

5. January 30: International Holocaust Memorial Day - Marking the anniversary of the liberation of the Auschwitz concentration camp by Soviet forces in 1945, this day is dedicated to remembering the victims of the Holocaust and promoting education about this dark chapter in history.

6. January 31: Backward Day - A fun and quirky holiday where people are encouraged to do things backward, such as wearing clothes inside out or eating dessert before dinner.
2025-05-02 23:08:07,629 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:08:07,629 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:08:07,629 - INFO - riley2 - log_test_step - [TEST STEP] Testing interpret_tool_command basic functionality.
2025-05-02 23:08:07,629 - INFO - riley2 - log_test_step - [TEST STEP] Testing interpret_tool_command basic functionality.
2025-05-02 23:08:07,629 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:08:07,629 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:08:07,629 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:08:07,629 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:08:07,640 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:08:07,640 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:08:08,279 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:08:08,279 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:08:08,279 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Great news! Based on the output from our calendar_search tool, it appears that a meeting has been scheduled with the Sales team on May 15th, 2025 at 9 AM. Please make sure to mark this in your personal calendar as well. Let me know if you need any further details or assistance regarding this meeting.
2025-05-02 23:08:08,279 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Great news! Based on the output from our calendar_search tool, it appears that a meeting has been scheduled with the Sales team on May 15th, 2025 at 9 AM. Please make sure to mark this in your personal calendar as well. Let me know if you need any further details or assistance regarding this meeting.
2025-05-02 23:08:08,279 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Great news! Based on the output from our calendar_search tool, it appears that a meeting has been scheduled with the Sales team on May 15th, 2025 at 9 AM. Please make sure to mark this in your personal calendar as well. Let me know if you need any further details or assistance regarding this meeting.
2025-05-02 23:08:08,279 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Great news! Based on the output from our calendar_search tool, it appears that a meeting has been scheduled with the Sales team on May 15th, 2025 at 9 AM. Please make sure to mark this in your personal calendar as well. Let me know if you need any further details or assistance regarding this meeting.
2025-05-02 23:08:08,279 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:08:08,279 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:08:08,285 - INFO - riley2 - log_test_step - [TEST STEP] Testing summarize_text basic functionality.
2025-05-02 23:08:08,285 - INFO - riley2 - log_test_step - [TEST STEP] Testing summarize_text basic functionality.
2025-05-02 23:08:08,287 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:08:08,287 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:08:08,288 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:08:08,288 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:08:08,289 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:08:08,289 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:08:08,730 - DEBUG - riley2 - summarize_text - Summarization result: content=" Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:08:08.7292934Z', 'done': True, 'done_reason': 'stop', 'total_duration': 434554000, 'load_duration': 5877600, 'prompt_eval_count': 92, 'prompt_eval_duration': 10402900, 'eval_count': 50, 'eval_duration': 411314800, 'model_name': 'mistral'} id='run-a56e3f8f-cecf-4184-833a-62fc76702665-0' usage_metadata={'input_tokens': 92, 'output_tokens': 50, 'total_tokens': 142}
2025-05-02 23:08:08,730 - DEBUG - riley2 - summarize_text - Summarization result: content=" Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:08:08.7292934Z', 'done': True, 'done_reason': 'stop', 'total_duration': 434554000, 'load_duration': 5877600, 'prompt_eval_count': 92, 'prompt_eval_duration': 10402900, 'eval_count': 50, 'eval_duration': 411314800, 'model_name': 'mistral'} id='run-a56e3f8f-cecf-4184-833a-62fc76702665-0' usage_metadata={'input_tokens': 92, 'output_tokens': 50, 'total_tokens': 142}
2025-05-02 23:08:08,730 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:08:08.7292934Z', 'done': True, 'done_reason': 'stop', 'total_duration': 434554000, 'load_duration': 5877600, 'prompt_eval_count': 92, 'prompt_eval_duration': 10402900, 'eval_count': 50, 'eval_duration': 411314800, 'model_name': 'mistral'} id='run-a56e3f8f-cecf-4184-833a-62fc76702665-0' usage_metadata={'input_tokens': 92, 'output_tokens': 50, 'total_tokens': 142}
2025-05-02 23:08:08,730 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:08:08.7292934Z', 'done': True, 'done_reason': 'stop', 'total_duration': 434554000, 'load_duration': 5877600, 'prompt_eval_count': 92, 'prompt_eval_duration': 10402900, 'eval_count': 50, 'eval_duration': 411314800, 'model_name': 'mistral'} id='run-a56e3f8f-cecf-4184-833a-62fc76702665-0' usage_metadata={'input_tokens': 92, 'output_tokens': 50, 'total_tokens': 142}
2025-05-02 23:08:08,730 - INFO - riley2 - summarize_text - [LLM Final Output]:  Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!
2025-05-02 23:08:08,730 - INFO - riley2 - summarize_text - [LLM Final Output]:  Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!
2025-05-02 23:08:08,730 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!
2025-05-02 23:08:08,730 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for driving growth and success. I'm looking forward to it!
2025-05-02 23:08:08,736 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:08:08,736 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:08:08,737 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'email from boss'.
2025-05-02 23:08:08,737 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'email from boss'.
2025-05-02 23:08:08,739 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:08:08,739 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:08:08,740 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:08:08,740 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:08:08,741 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:08:08,741 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:08:08,742 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:08:08,742 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:08:08,742 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:08:08,742 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:08:08,744 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:08:08,744 - INFO - riley2 - log_test_step - [TEST STEP] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:08:08,745 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:08:08,745 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:08:08,746 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:08:08,746 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:08:08,746 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:08:08,746 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:08:08,748 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:08:08,748 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:08:08,748 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:08:08,748 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:08:08,750 - INFO - riley2 - log_test_step - [TEST STEP] Testing get_decision end-turn logic.
2025-05-02 23:08:08,750 - INFO - riley2 - log_test_step - [TEST STEP] Testing get_decision end-turn logic.
2025-05-02 23:08:08,752 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:08:08,752 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:08:08,752 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:08:08,752 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:08:08,752 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:08:08,752 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:08:08,754 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:08:08,754 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:08:08,754 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:08:08,754 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:15:36,152 - INFO - riley2 - log_test_step - [TEST STEP] Testing reasoning with query: 'When am I going to Italy?'
2025-05-02 23:15:36,155 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-02 23:15:36,155 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-02 23:15:36,155 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-02 23:15:36,165 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> April event: Dinner with Friends
2025-05-02 23:15:36,165 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-02 23:15:36,165 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Work Conference
2025-05-02 23:15:36,172 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Board Game Night
2025-05-02 23:15:36,172 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Holiday Italy
2025-05-02 23:15:36,172 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-02 23:15:36,172 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-02 23:15:36,181 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-02 23:20:51 - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> April event: Dinner with Friends
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Work Conference
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Board Game Night
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Holiday Italy
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-02 23:20:51 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-02 23:20:51 - INFO - riley2 - log_test_step - [TEST: test_backend_planner_llm] Testing backend_planner_llm decision-making.
2025-05-02 23:20:51 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:20:51 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:20:53 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. February 23: International Polar Bear Day

2. February 24: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

3. February 25: International Day of Solidarity with Detained and Missing Staff Members

4. February 26: International Legume Day (unofficial)

5. February 27: International Polar Bear Day (observed in some countries on this date instead of Feb 23)

6. February 28: International Moment of Laughter Day

7. February 29 (Leap Year): Rare Disease Day (usually observed annually on the last day of February)
2025-05-02 23:20:53 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. February 23: International Polar Bear Day

2. February 24: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

3. February 25: International Day of Solidarity with Detained and Missing Staff Members

4. February 26: International Legume Day (unofficial)

5. February 27: International Polar Bear Day (observed in some countries on this date instead of Feb 23)

6. February 28: International Moment of Laughter Day

7. February 29 (Leap Year): Rare Disease Day (usually observed annually on the last day of February)
2025-05-02 23:20:53 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:20:53 - INFO - riley2 - log_test_step - [TEST: test_interpret_tool_command_basic] Testing interpret_tool_command basic functionality.
2025-05-02 23:20:53 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:20:53 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:20:53 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:20:54 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:20:54 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Great news! I have checked the calendar for May 15th, 2025, and found that you have a meeting scheduled with the Sales team at 9 AM. Please make sure to prepare accordingly.
2025-05-02 23:20:54 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Great news! I have checked the calendar for May 15th, 2025, and found that you have a meeting scheduled with the Sales team at 9 AM. Please make sure to prepare accordingly.
2025-05-02 23:20:54 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:20:54 - INFO - riley2 - log_test_step - [TEST: test_summarize_text_basic] Testing summarize_text basic functionality.
2025-05-02 23:20:54 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:20:54 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:20:54 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:20:55 - DEBUG - riley2 - summarize_text - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you so you won't forget. Let's make sure to prepare and discuss any important topics beforehand. If there's anything specific you want to focus on during the meeting, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:20:55.0359214Z', 'done': True, 'done_reason': 'stop', 'total_duration': 632841600, 'load_duration': 10587900, 'prompt_eval_count': 92, 'prompt_eval_duration': 11590200, 'eval_count': 76, 'eval_duration': 610152900, 'model_name': 'mistral'} id='run-756f3ab8-baa6-41c8-b9ae-9c4c16794de5-0' usage_metadata={'input_tokens': 92, 'output_tokens': 76, 'total_tokens': 168}
2025-05-02 23:20:55 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you so you won't forget. Let's make sure to prepare and discuss any important topics beforehand. If there's anything specific you want to focus on during the meeting, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:20:55.0359214Z', 'done': True, 'done_reason': 'stop', 'total_duration': 632841600, 'load_duration': 10587900, 'prompt_eval_count': 92, 'prompt_eval_duration': 11590200, 'eval_count': 76, 'eval_duration': 610152900, 'model_name': 'mistral'} id='run-756f3ab8-baa6-41c8-b9ae-9c4c16794de5-0' usage_metadata={'input_tokens': 92, 'output_tokens': 76, 'total_tokens': 168}
2025-05-02 23:20:55 - INFO - riley2 - summarize_text - [LLM Final Output]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you so you won't forget. Let's make sure to prepare and discuss any important topics beforehand. If there's anything specific you want to focus on during the meeting, feel free to let me know!
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you so you won't forget. Let's make sure to prepare and discuss any important topics beforehand. If there's anything specific you want to focus on during the meeting, feel free to let me know!
2025-05-02 23:20:55 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:20:55 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_email] Testing choose_next_action with 'email from boss'.
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:20:55 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:20:55 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:20:55 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:20:55 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_trip] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:20:55 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:20:55 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:20:55 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:20:55 - INFO - riley2 - log_test_step - [TEST: test_get_decision] Testing get_decision end-turn logic.
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:20:55 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:20:55 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:20:55 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:20:55 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:22:13 - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> April event: Dinner with Friends
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Work Conference
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Board Game Night
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Holiday Italy
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-02 23:22:13 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-02 23:22:13 - INFO - riley2 - log_test_step - [TEST: test_backend_planner_llm] Testing backend_planner_llm decision-making.
2025-05-02 23:22:13 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:22:13 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:22:15 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. March 8, 2023: International Women's Day

2. March 9, 2023: National Napping Day (Unofficial)

3. March 10, 2023: World Kidney Day

4. March 11, 2023: Johnny Appleseed's Birthday (Unofficial)

5. March 12, 2023: International Day of Women and Girls in Science

6. March 13, 2023: World Sleep Day

7. March 14, 2023: Pi Day (3/14)

8. March 15, 2023: Ides of March (Ancient Roman festival)

9. March 16, 2023: National Art Lovers Month begins

10. March 17, 2023: St. Patrick's Day (Unofficial: National Beer Day in the US)
2025-05-02 23:22:15 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. March 8, 2023: International Women's Day

2. March 9, 2023: National Napping Day (Unofficial)

3. March 10, 2023: World Kidney Day

4. March 11, 2023: Johnny Appleseed's Birthday (Unofficial)

5. March 12, 2023: International Day of Women and Girls in Science

6. March 13, 2023: World Sleep Day

7. March 14, 2023: Pi Day (3/14)

8. March 15, 2023: Ides of March (Ancient Roman festival)

9. March 16, 2023: National Art Lovers Month begins

10. March 17, 2023: St. Patrick's Day (Unofficial: National Beer Day in the US)
2025-05-02 23:22:15 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:22:15 - INFO - riley2 - log_test_step - [TEST: test_interpret_tool_command_basic] Testing interpret_tool_command basic functionality.
2025-05-02 23:22:15 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:22:15 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:22:15 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:22:15 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:22:15 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Sure thing! It looks like there is a meeting scheduled on May 15th, 2025 at 9 AM with the Sales team.
2025-05-02 23:22:15 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Sure thing! It looks like there is a meeting scheduled on May 15th, 2025 at 9 AM with the Sales team.
2025-05-02 23:22:15 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:22:15 - INFO - riley2 - log_test_step - [TEST: test_summarize_text_basic] Testing summarize_text basic functionality.
2025-05-02 23:22:15 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:22:15 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:22:15 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:22:16 - DEBUG - riley2 - summarize_text - Summarization result: content=" Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with the sales team. Let's discuss our current projects and strategies to drive success in our sales efforts. If you need any additional information or preparation materials, please let me know. I'm looking forward to collaborating with everyone on this call!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:22:16.2279143Z', 'done': True, 'done_reason': 'stop', 'total_duration': 613094400, 'load_duration': 14427100, 'prompt_eval_count': 92, 'prompt_eval_duration': 8948400, 'eval_count': 70, 'eval_duration': 588589500, 'model_name': 'mistral'} id='run-473644f9-251e-4f91-97ef-00bf23345cbb-0' usage_metadata={'input_tokens': 92, 'output_tokens': 70, 'total_tokens': 162}
2025-05-02 23:22:16 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with the sales team. Let's discuss our current projects and strategies to drive success in our sales efforts. If you need any additional information or preparation materials, please let me know. I'm looking forward to collaborating with everyone on this call!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:22:16.2279143Z', 'done': True, 'done_reason': 'stop', 'total_duration': 613094400, 'load_duration': 14427100, 'prompt_eval_count': 92, 'prompt_eval_duration': 8948400, 'eval_count': 70, 'eval_duration': 588589500, 'model_name': 'mistral'} id='run-473644f9-251e-4f91-97ef-00bf23345cbb-0' usage_metadata={'input_tokens': 92, 'output_tokens': 70, 'total_tokens': 162}
2025-05-02 23:22:16 - INFO - riley2 - summarize_text - [LLM Final Output]:  Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with the sales team. Let's discuss our current projects and strategies to drive success in our sales efforts. If you need any additional information or preparation materials, please let me know. I'm looking forward to collaborating with everyone on this call!
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with the sales team. Let's discuss our current projects and strategies to drive success in our sales efforts. If you need any additional information or preparation materials, please let me know. I'm looking forward to collaborating with everyone on this call!
2025-05-02 23:22:16 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:22:16 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_email] Testing choose_next_action with 'email from boss'.
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:22:16 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:22:16 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:22:16 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:22:16 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_trip] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:22:16 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:22:16 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:22:16 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:22:16 - INFO - riley2 - log_test_step - [TEST: test_get_decision] Testing get_decision end-turn logic.
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:22:16 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:22:16 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:22:16 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:22:16 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:26:32; - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> April event: Dinner with Friends
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Work Conference
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Board Game Night
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Holiday Italy
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-02 23:26:32; - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-02 23:26:32; - INFO - riley2 - log_test_step - [TEST: test_backend_planner_llm] Testing backend_planner_llm decision-making.
2025-05-02 23:26:32; - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:26:32; - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:26:35; - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. February 8, 2023 (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 9, 2023 (Wednesday): Grammy Awards - The 64th Annual Grammy Awards ceremony will be held at the MGM Grand Garden Arena in Las Vegas, Nevada.

3. February 10, 2023 (Thursday): State of the Union Address - U.S. President Joe Biden is expected to deliver his annual State of the Union address to a joint session of Congress. The exact date has not been officially announced yet but it usually takes place in late January or early February.

4. February 10, 2023 (Thursday): NBA All-Star Game - The 71st NBA All-Star Game will be held at Vivint Arena in Salt Lake City, Utah.

5. February 11, 2023 (Friday): Chinese New Year - The Year of the Ox begins on this day according to the traditional Chinese lunisolar calendar.

6. February 14, 2023 (Tuesday): Valentine's Day - A global celebration of love and affection.

7. February 15, 2023 (Wednesday): Presidents' Day - This federal holiday in the United States honors both George Washington and Abraham Lincoln, two of the country's most important presidents. It is observed on the third Monday in February.
2025-05-02 23:26:35; - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. February 8, 2023 (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 9, 2023 (Wednesday): Grammy Awards - The 64th Annual Grammy Awards ceremony will be held at the MGM Grand Garden Arena in Las Vegas, Nevada.

3. February 10, 2023 (Thursday): State of the Union Address - U.S. President Joe Biden is expected to deliver his annual State of the Union address to a joint session of Congress. The exact date has not been officially announced yet but it usually takes place in late January or early February.

4. February 10, 2023 (Thursday): NBA All-Star Game - The 71st NBA All-Star Game will be held at Vivint Arena in Salt Lake City, Utah.

5. February 11, 2023 (Friday): Chinese New Year - The Year of the Ox begins on this day according to the traditional Chinese lunisolar calendar.

6. February 14, 2023 (Tuesday): Valentine's Day - A global celebration of love and affection.

7. February 15, 2023 (Wednesday): Presidents' Day - This federal holiday in the United States honors both George Washington and Abraham Lincoln, two of the country's most important presidents. It is observed on the third Monday in February.
2025-05-02 23:26:35; - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:26:35; - INFO - riley2 - log_test_step - [TEST: test_interpret_tool_command_basic] Testing interpret_tool_command basic functionality.
2025-05-02 23:26:35; - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:26:35; - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:26:35; - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:26:35; - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:26:35; - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Based on your request to search the calendar for May 15, 2025, I found a meeting scheduled at 9 AM titled "Sales Meeting". It appears that you have something planned with the Sales team on that day.
2025-05-02 23:26:35; - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Based on your request to search the calendar for May 15, 2025, I found a meeting scheduled at 9 AM titled "Sales Meeting". It appears that you have something planned with the Sales team on that day.
2025-05-02 23:26:35; - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:26:35; - INFO - riley2 - log_test_step - [TEST: test_summarize_text_basic] Testing summarize_text basic functionality.
2025-05-02 23:26:35; - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:26:35; - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:26:35; - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:26:36; - DEBUG - riley2 - summarize_text - Summarization result: content=' Sure thing! Here\'s a friendly interpretation of the information provided by the summarize_email tool:\n\n"Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with our sales team. Let\'s make sure to prepare any necessary materials ahead of time so we can hit the ground running!"' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:26:36.2820928Z', 'done': True, 'done_reason': 'stop', 'total_duration': 568803800, 'load_duration': 10479400, 'prompt_eval_count': 92, 'prompt_eval_duration': 10978500, 'eval_count': 69, 'eval_duration': 546836000, 'model_name': 'mistral'} id='run-1c972722-fb85-4f0f-88c9-b8f7d57a6ef4-0' usage_metadata={'input_tokens': 92, 'output_tokens': 69, 'total_tokens': 161}
2025-05-02 23:26:36; - INFO - riley2 - summarize_text - [LLM Raw Output] content=' Sure thing! Here\'s a friendly interpretation of the information provided by the summarize_email tool:\n\n"Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with our sales team. Let\'s make sure to prepare any necessary materials ahead of time so we can hit the ground running!"' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:26:36.2820928Z', 'done': True, 'done_reason': 'stop', 'total_duration': 568803800, 'load_duration': 10479400, 'prompt_eval_count': 92, 'prompt_eval_duration': 10978500, 'eval_count': 69, 'eval_duration': 546836000, 'model_name': 'mistral'} id='run-1c972722-fb85-4f0f-88c9-b8f7d57a6ef4-0' usage_metadata={'input_tokens': 92, 'output_tokens': 69, 'total_tokens': 161}
2025-05-02 23:26:36; - INFO - riley2 - summarize_text - [LLM Final Output]:  Sure thing! Here's a friendly interpretation of the information provided by the summarize_email tool:

"Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with our sales team. Let's make sure to prepare any necessary materials ahead of time so we can hit the ground running!"
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Sure thing! Here's a friendly interpretation of the information provided by the summarize_email tool:

"Great news! It looks like we have a meeting scheduled for tomorrow morning at 9 AM with our sales team. Let's make sure to prepare any necessary materials ahead of time so we can hit the ground running!"
2025-05-02 23:26:36; - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:26:36; - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_email] Testing choose_next_action with 'email from boss'.
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:26:36; - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:26:36; - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:26:36; - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:26:36; - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_trip] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:26:36; - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:26:36; - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:26:36; - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:26:36; - INFO - riley2 - log_test_step - [TEST: test_get_decision] Testing get_decision end-turn logic.
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:26:36; - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:26:36; - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:26:36; - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:26:36; - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:33:41 - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> April event: Dinner with Friends
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Work Conference
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Board Game Night
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventFound] >>> May event: Holiday Italy
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-02 23:33:41 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-02 23:33:41 - INFO - riley2 - log_test_step - [TEST: test_backend_planner_llm] Testing backend_planner_llm decision-making.
2025-05-02 23:33:41 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-02 23:33:41 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-02 23:33:44 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. March 2nd (Tuesday): Super Tuesday Primaries in the United States

2. March 3rd (Wednesday): World Wildlife Day - International observance day to celebrate and raise awareness of the world's wildlife.

3. March 4th (Thursday): National Grammar Day - A day dedicated to promoting correct grammar usage and appreciation for language.

4. March 5th (Friday): World Book Day - An annual event to encourage children to explore the pleasure of books and reading.

5. March 6th (Saturday): International Day of Zero Tolerance for Female Genital Mutilation - A day dedicated to raising awareness about female genital mutilation and its elimination worldwide.

6. March 7th (Sunday): World Laboratory Animal Freedom Day - An international observance day to raise awareness about the use of animals in laboratories and promote alternatives.
2025-05-02 23:33:44 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. March 2nd (Tuesday): Super Tuesday Primaries in the United States

2. March 3rd (Wednesday): World Wildlife Day - International observance day to celebrate and raise awareness of the world's wildlife.

3. March 4th (Thursday): National Grammar Day - A day dedicated to promoting correct grammar usage and appreciation for language.

4. March 5th (Friday): World Book Day - An annual event to encourage children to explore the pleasure of books and reading.

5. March 6th (Saturday): International Day of Zero Tolerance for Female Genital Mutilation - A day dedicated to raising awareness about female genital mutilation and its elimination worldwide.

6. March 7th (Sunday): World Laboratory Animal Freedom Day - An international observance day to raise awareness about the use of animals in laboratories and promote alternatives.
2025-05-02 23:33:44 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-02 23:33:44 - INFO - riley2 - log_test_step - [TEST: test_interpret_tool_command_basic] Testing interpret_tool_command basic functionality.
2025-05-02 23:33:44 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:33:44 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:33:44 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-02 23:33:44 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-02 23:33:44 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Great news! I have checked the calendar for you and found that a meeting has been scheduled for May 15, 2025, at 9 AM with the Sales team. Make sure to prepare for it accordingly!
2025-05-02 23:33:44 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Great news! I have checked the calendar for you and found that a meeting has been scheduled for May 15, 2025, at 9 AM with the Sales team. Make sure to prepare for it accordingly!
2025-05-02 23:33:44 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-02 23:33:44 - INFO - riley2 - log_test_step - [TEST: test_summarize_text_basic] Testing summarize_text basic functionality.
2025-05-02 23:33:44 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:33:44 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:33:44 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-02 23:33:45 - DEBUG - riley2 - summarize_text - Summarization result: content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be on time for the call. If you have any questions or need assistance, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:33:45.2721076Z', 'done': True, 'done_reason': 'stop', 'total_duration': 452748800, 'load_duration': 6401600, 'prompt_eval_count': 92, 'prompt_eval_duration': 14973800, 'eval_count': 55, 'eval_duration': 431373400, 'model_name': 'mistral'} id='run-f04a5a52-6ec2-480f-a411-c4e73a68940f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 55, 'total_tokens': 147}
2025-05-02 23:33:45 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be on time for the call. If you have any questions or need assistance, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T22:33:45.2721076Z', 'done': True, 'done_reason': 'stop', 'total_duration': 452748800, 'load_duration': 6401600, 'prompt_eval_count': 92, 'prompt_eval_duration': 14973800, 'eval_count': 55, 'eval_duration': 431373400, 'model_name': 'mistral'} id='run-f04a5a52-6ec2-480f-a411-c4e73a68940f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 55, 'total_tokens': 147}
2025-05-02 23:33:45 - INFO - riley2 - summarize_text - [LLM Final Output]:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be on time for the call. If you have any questions or need assistance, feel free to let me know!
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be on time for the call. If you have any questions or need assistance, feel free to let me know!
2025-05-02 23:33:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-02 23:33:45 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_email] Testing choose_next_action with 'email from boss'.
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-02 23:33:45 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-02 23:33:45 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-02 23:33:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-02 23:33:45 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_trip] Testing choose_next_action with 'trip to Italy'.
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-02 23:33:45 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-02 23:33:45 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-02 23:33:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-02 23:33:45 - INFO - riley2 - log_test_step - [TEST: test_get_decision] Testing get_decision end-turn logic.
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-02 23:33:45 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-02 23:33:45 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-02 23:33:45 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-02 23:33:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-02 23:50:36 - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventResult] >>> No matching events found.
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventResult] >>> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15'}]
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-02 23:50:36 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-02 23:50:36 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-02 23:54:19 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'What emails did I get from my boss?'
2025-05-02 23:54:19 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> What emails did I get from my boss?
2025-05-02 23:54:19 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'What emails did I get from my boss?'
2025-05-02 23:54:19 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Tell me about any recent emails'
2025-05-02 23:54:19 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Tell me about any recent emails
2025-05-02 23:54:19 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Tell me about any recent emails'
2025-05-02 23:54:19 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Any updates on my Italy trip?'
2025-05-02 23:54:19 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Any updates on my Italy trip?
2025-05-02 23:54:19 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Any updates on my Italy trip?'
2025-05-02 23:55:32 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'What emails did I get from my boss?'
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> What emails did I get from my boss?
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'What emails did I get from my boss?'
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for emails from boss
2025-05-02 23:55:32 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/01 to 2025/05/02.
2025-05-02 23:55:32 - INFO - riley2 - email_download_chunk - Mock: Retrieved 4 emails.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailAgent - DownloadResult] >>> Downloaded 4 emails
2025-05-02 23:55:32 - DEBUG - riley2 - email_filter_by_sender - Mock: Filtering emails by sender: boss@company.com
2025-05-02 23:55:32 - INFO - riley2 - email_filter_by_sender - Mock: Found 2 emails from boss@company.com.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailAgent - FilterResult] >>> Filtered 2 emails
2025-05-02 23:55:32 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 205 characters.
2025-05-02 23:55:32 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:55:32 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[What emails did I get from my boss?]
2025-05-02 23:55:32 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Tell me about any recent emails'
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Tell me about any recent emails
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Tell me about any recent emails'
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for recent emails
2025-05-02 23:55:32 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/02 to 2025/05/02.
2025-05-02 23:55:32 - INFO - riley2 - email_download_chunk - Mock: Retrieved 2 emails.
2025-05-02 23:55:32 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 200 characters.
2025-05-02 23:55:32 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:55:32 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Any updates on my Italy trip?'
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Any updates on my Italy trip?
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Any updates on my Italy trip?'
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for Italy trip emails
2025-05-02 23:55:32 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/04/29 to 2025/05/02.
2025-05-02 23:55:32 - INFO - riley2 - email_download_chunk - Mock: Retrieved 5 emails.
2025-05-02 23:55:32 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 109 characters.
2025-05-02 23:55:32 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:55:32 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:55:32 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[Any updates on my Italy trip?]
2025-05-02 23:56:35 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'What emails did I get from my boss?'
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> What emails did I get from my boss?
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'What emails did I get from my boss?'
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for emails from boss
2025-05-02 23:56:35 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/01 to 2025/05/02.
2025-05-02 23:56:35 - INFO - riley2 - email_download_chunk - Mock: Retrieved 4 emails.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailAgent - DownloadResult] >>> Downloaded 4 emails
2025-05-02 23:56:35 - DEBUG - riley2 - email_filter_by_sender - Mock: Filtering emails by sender: boss@company.com
2025-05-02 23:56:35 - INFO - riley2 - email_filter_by_sender - Mock: Found 2 emails from boss@company.com.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailAgent - FilterResult] >>> Filtered 2 emails
2025-05-02 23:56:35 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 205 characters.
2025-05-02 23:56:35 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:56:35 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[What emails did I get from my boss?]
2025-05-02 23:56:35 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Tell me about any recent emails'
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Tell me about any recent emails
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Tell me about any recent emails'
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for recent emails
2025-05-02 23:56:35 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/02 to 2025/05/02.
2025-05-02 23:56:35 - INFO - riley2 - email_download_chunk - Mock: Retrieved 2 emails.
2025-05-02 23:56:35 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 200 characters.
2025-05-02 23:56:35 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:56:35 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Any updates on my Italy trip?'
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Any updates on my Italy trip?
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Any updates on my Italy trip?'
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for Italy trip emails
2025-05-02 23:56:35 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/04/29 to 2025/05/02.
2025-05-02 23:56:35 - INFO - riley2 - email_download_chunk - Mock: Retrieved 5 emails.
2025-05-02 23:56:35 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 109 characters.
2025-05-02 23:56:35 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:56:35 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:56:35 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[Any updates on my Italy trip?]
2025-05-02 23:57:45 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'What emails did I get from my boss?'
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> What emails did I get from my boss?
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'What emails did I get from my boss?'
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for emails from boss
2025-05-02 23:57:45 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/01 to 2025/05/02.
2025-05-02 23:57:45 - INFO - riley2 - email_download_chunk - Mock: Retrieved 4 emails.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailAgent - DownloadResult] >>> Downloaded 4 emails
2025-05-02 23:57:45 - DEBUG - riley2 - email_filter_by_sender - Mock: Filtering emails by sender: boss@company.com
2025-05-02 23:57:45 - INFO - riley2 - email_filter_by_sender - Mock: Found 2 emails from boss@company.com.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailAgent - FilterResult] >>> Filtered 2 emails
2025-05-02 23:57:45 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 205 characters.
2025-05-02 23:57:45 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:57:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[What emails did I get from my boss?]
2025-05-02 23:57:45 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Tell me about any recent emails'
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Tell me about any recent emails
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Tell me about any recent emails'
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for recent emails
2025-05-02 23:57:45 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/02 to 2025/05/02.
2025-05-02 23:57:45 - INFO - riley2 - email_download_chunk - Mock: Retrieved 2 emails.
2025-05-02 23:57:45 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 200 characters.
2025-05-02 23:57:45 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
2025-05-02 23:57:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[Tell me about any recent emails]
2025-05-02 23:57:45 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Any updates on my Italy trip?'
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Any updates on my Italy trip?
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Any updates on my Italy trip?'
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for Italy trip emails
2025-05-02 23:57:45 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/04/29 to 2025/05/02.
2025-05-02 23:57:45 - INFO - riley2 - email_download_chunk - Mock: Retrieved 5 emails.
2025-05-02 23:57:45 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 109 characters.
2025-05-02 23:57:45 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:57:45 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-02 23:57:45 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[Any updates on my Italy trip?]
2025-05-03 00:00:12 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'What emails did I get from my boss?'
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> What emails did I get from my boss?
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'What emails did I get from my boss?'
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for emails from boss
2025-05-03 00:00:12 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
2025-05-03 00:00:12 - INFO - riley2 - email_download_chunk - Mock: Retrieved 2 emails.
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailAgent - DownloadResult] >>> Downloaded 2 emails
2025-05-03 00:00:12 - DEBUG - riley2 - email_filter_by_sender - Mock: Filtering emails by sender: boss@company.com
2025-05-03 00:00:12 - INFO - riley2 - email_filter_by_sender - Mock: Found 1 emails from boss@company.com.
2025-05-03 00:00:12 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Tell me about any recent emails'
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Tell me about any recent emails
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Tell me about any recent emails'
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for recent emails
2025-05-03 00:00:12 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
2025-05-03 00:00:12 - INFO - riley2 - email_download_chunk - Mock: Retrieved 0 emails.
2025-05-03 00:00:12 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 16 characters.
2025-05-03 00:00:12 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Various emails including project updates and newsletters.
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Various emails including project updates and newsletters.
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Various emails including project updates and newsletters.
2025-05-03 00:00:12 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Any updates on my Italy trip?'
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Any updates on my Italy trip?
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Any updates on my Italy trip?'
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for Italy trip emails
2025-05-03 00:00:12 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
2025-05-03 00:00:12 - INFO - riley2 - email_download_chunk - Mock: Retrieved 5 emails.
2025-05-03 00:00:12 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 109 characters.
2025-05-03 00:00:12 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-03 00:00:12 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-03 00:00:12 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[Any updates on my Italy trip?]
2025-05-03 00:00:20 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'What emails did I get from my boss?'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> What emails did I get from my boss?
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'What emails did I get from my boss?'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for emails from boss
2025-05-03 00:00:20 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
2025-05-03 00:00:20 - INFO - riley2 - email_download_chunk - Mock: Retrieved 2 emails.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailAgent - DownloadResult] >>> Downloaded 2 emails
2025-05-03 00:00:20 - DEBUG - riley2 - email_filter_by_sender - Mock: Filtering emails by sender: boss@company.com
2025-05-03 00:00:20 - INFO - riley2 - email_filter_by_sender - Mock: Found 1 emails from boss@company.com.
2025-05-03 00:00:20 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Tell me about any recent emails'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Tell me about any recent emails
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Tell me about any recent emails'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for recent emails
2025-05-03 00:00:20 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
2025-05-03 00:00:20 - INFO - riley2 - email_download_chunk - Mock: Retrieved 0 emails.
2025-05-03 00:00:20 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 16 characters.
2025-05-03 00:00:20 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Various emails including project updates and newsletters.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Various emails including project updates and newsletters.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Various emails including project updates and newsletters.
2025-05-03 00:00:20 - INFO - riley2 - log_test_step - [TEST: test_email_reasoning] Testing email reasoning with query: 'Any updates on my Italy trip?'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> Any updates on my Italy trip?
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailReasoner - Processing] >>> Query: 'Any updates on my Italy trip?'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailReasoner - EmailSearch] >>> Searching for Italy trip emails
2025-05-03 00:00:20 - DEBUG - riley2 - email_download_chunk - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
2025-05-03 00:00:20 - INFO - riley2 - email_download_chunk - Mock: Retrieved 5 emails.
2025-05-03 00:00:20 - DEBUG - riley2 - email_summarize_batch - Mock: Summarizing email batch of size: 109 characters.
2025-05-03 00:00:20 - DEBUG - riley2 - email_summarize_batch - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [EmailAgent - SummaryResult] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> Your trip to Italy on May 15 has been confirmed.
2025-05-03 00:00:20 - INFO - riley2 - log_test_success - [TEST PASSED] test_email_reasoning[Any updates on my Italy trip?]
2025-05-03 00:00:20 - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventResult] >>> No matching events found.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventResult] >>> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15'}]
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-03 00:00:20 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
2025-05-03 00:00:20 - INFO - riley2 - log_test_step - [TEST: test_backend_planner_llm] Testing backend_planner_llm decision-making.
2025-05-03 00:00:20 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planning with prompt: What events are coming up next week?
2025-05-03 00:00:20 - DEBUG - riley2 - backend_planner_llm - Backend planner LLM called with prompt: What events are coming up next week?
2025-05-03 00:00:24 - DEBUG - riley2 - backend_planner_llm - Planner LLM result: 1. February 23, 2023 (Tuesday):

- World Radio Day: An annual event organized by UNESCO to celebrate radio as a medium and to draw attention to the important role it plays in society.

2. February 24, 2023 (Wednesday):

- International Day of Human Space Flight: Commemorates Yuri Gagarin's first manned space flight on April 12, 1961.

3. February 25, 2023 (Thursday):

- International Conscience Day: A day to reflect upon the importance of individual conscience and its role in promoting peace, justice, and human rights.

4. February 26, 2023 (Friday):

- International Legume Day: A day to celebrate the importance of legumes in our diet and their positive impact on health and the environment.

5. February 27, 2023 (Saturday):

- International Polar Bear Day: A day dedicated to raising awareness about polar bears and the threats they face due to climate change.

6. February 28, 2023 (Monday):

- International Moment of Laughter Day: A day to celebrate laughter and its positive effects on our mental and physical health.
2025-05-03 00:00:24 - INFO - riley2 - log_agent_interaction - [BackendPlanner - Planner] >>> Planner decided: 1. February 23, 2023 (Tuesday):

- World Radio Day: An annual event organized by UNESCO to celebrate radio as a medium and to draw attention to the important role it plays in society.

2. February 24, 2023 (Wednesday):

- International Day of Human Space Flight: Commemorates Yuri Gagarin's first manned space flight on April 12, 1961.

3. February 25, 2023 (Thursday):

- International Conscience Day: A day to reflect upon the importance of individual conscience and its role in promoting peace, justice, and human rights.

4. February 26, 2023 (Friday):

- International Legume Day: A day to celebrate the importance of legumes in our diet and their positive impact on health and the environment.

5. February 27, 2023 (Saturday):

- International Polar Bear Day: A day dedicated to raising awareness about polar bears and the threats they face due to climate change.

6. February 28, 2023 (Monday):

- International Moment of Laughter Day: A day to celebrate laughter and its positive effects on our mental and physical health.
2025-05-03 00:00:24 - INFO - riley2 - log_test_success - [TEST PASSED] test_backend_planner_llm
2025-05-03 00:00:24 - INFO - riley2 - log_test_step - [TEST: test_interpret_tool_command_basic] Testing interpret_tool_command basic functionality.
2025-05-03 00:00:24 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
2025-05-03 00:00:24 - DEBUG - riley2 - interpret_tool_command - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
2025-05-03 00:00:24 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
2025-05-03 00:00:24 - DEBUG - riley2 - interpret_tool_command - Interpretation complete for tool: calendar_search
2025-05-03 00:00:24 - DEBUG - riley2 - interpret_tool_command - [interpret_tool_command] Final Response:  Great news! I've checked the calendar for May 15th, 2025, and it appears there's a meeting scheduled at 9 AM with the Sales team. Make sure to prepare accordingly for this important event.
2025-05-03 00:00:24 - INFO - riley2 - log_agent_interaction - [BackendManager - ToolInterpreter] >>> Human-readable output:  Great news! I've checked the calendar for May 15th, 2025, and it appears there's a meeting scheduled at 9 AM with the Sales team. Make sure to prepare accordingly for this important event.
2025-05-03 00:00:24 - INFO - riley2 - log_test_success - [TEST PASSED] test_interpret_tool_command_basic
2025-05-03 00:00:24 - INFO - riley2 - log_test_step - [TEST: test_summarize_text_basic] Testing summarize_text basic functionality.
2025-05-03 00:00:24 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Input to summarize: Meeting tomorrow at 9 AM with sales team.
2025-05-03 00:00:24 - DEBUG - riley2 - summarize_text - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
2025-05-03 00:00:24 - INFO - riley2 - summarize_text - [LLM Prompt Input] Meeting tomorrow at 9 AM with sales team.
2025-05-03 00:00:25 - DEBUG - riley2 - summarize_text - Summarization result: content=" Sure thing! So it looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. It seems like you'll be catching up with your colleagues from the sales department then. If you have any specific items to discuss or prepare beforehand, now might be a good time to start thinking about them!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:00:25.3940254Z', 'done': True, 'done_reason': 'stop', 'total_duration': 562072400, 'load_duration': 12107900, 'prompt_eval_count': 92, 'prompt_eval_duration': 8825300, 'eval_count': 68, 'eval_duration': 540616900, 'model_name': 'mistral'} id='run-3ae76838-7031-40fd-9dca-f7a8df6b0364-0' usage_metadata={'input_tokens': 92, 'output_tokens': 68, 'total_tokens': 160}
2025-05-03 00:00:25 - INFO - riley2 - summarize_text - [LLM Raw Output] content=" Sure thing! So it looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. It seems like you'll be catching up with your colleagues from the sales department then. If you have any specific items to discuss or prepare beforehand, now might be a good time to start thinking about them!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:00:25.3940254Z', 'done': True, 'done_reason': 'stop', 'total_duration': 562072400, 'load_duration': 12107900, 'prompt_eval_count': 92, 'prompt_eval_duration': 8825300, 'eval_count': 68, 'eval_duration': 540616900, 'model_name': 'mistral'} id='run-3ae76838-7031-40fd-9dca-f7a8df6b0364-0' usage_metadata={'input_tokens': 92, 'output_tokens': 68, 'total_tokens': 160}
2025-05-03 00:00:25 - INFO - riley2 - summarize_text - [LLM Final Output]:  Sure thing! So it looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. It seems like you'll be catching up with your colleagues from the sales department then. If you have any specific items to discuss or prepare beforehand, now might be a good time to start thinking about them!
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - Summarizer] >>> Summarized result:  Sure thing! So it looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. It seems like you'll be catching up with your colleagues from the sales department then. If you have any specific items to discuss or prepare beforehand, now might be a good time to start thinking about them!
2025-05-03 00:00:25 - INFO - riley2 - log_test_success - [TEST PASSED] test_summarize_text_basic
2025-05-03 00:00:25 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_email] Testing choose_next_action with 'email from boss'.
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Check latest email from boss
2025-05-03 00:00:25 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Check latest email from boss with context: {}
2025-05-03 00:00:25 - DEBUG - riley2 - choose_next_action - Next action chosen: email_search
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: email_search
2025-05-03 00:00:25 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_email
2025-05-03 00:00:25 - INFO - riley2 - log_test_step - [TEST: test_choose_next_action_trip] Testing choose_next_action with 'trip to Italy'.
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Received query: Planning a trip to Italy
2025-05-03 00:00:25 - DEBUG - riley2 - choose_next_action - Choosing next action for query: Planning a trip to Italy with context: {}
2025-05-03 00:00:25 - DEBUG - riley2 - choose_next_action - Next action chosen: calendar_search
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - Planner] >>> Chosen action: calendar_search
2025-05-03 00:00:25 - INFO - riley2 - log_test_success - [TEST PASSED] test_choose_next_action_trip
2025-05-03 00:00:25 - INFO - riley2 - log_test_step - [TEST: test_get_decision] Testing get_decision end-turn logic.
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Received prompt: I have enough information now, thanks.
2025-05-03 00:00:25 - DEBUG - riley2 - get_decision - Getting decision for prompt: I have enough information now, thanks.
2025-05-03 00:00:25 - DEBUG - riley2 - get_decision - Decision made: yes
2025-05-03 00:00:25 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionLogic] >>> Decision made: yes
2025-05-03 00:00:25 - INFO - riley2 - log_test_success - [TEST PASSED] test_get_decision
2025-05-03 00:07:08 - DEBUG - riley2 - load_config - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
2025-05-03 00:07:08 - DEBUG - riley2 - load_config - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
2025-05-03 00:07:08 - DEBUG - riley2 - load_config - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
2025-05-03 00:07:08 - INFO - riley2 - initialize_test_configs - Test configurations loaded and validated successfully
2025-05-03 00:07:08 - INFO - riley2 - log_test_step - [TEST: test_reasoning_queries] Testing reasoning with query: 'When am I going to Italy?'
2025-05-03 00:07:08 - DEBUG - riley2 - load_config - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
2025-05-03 00:07:08 - DEBUG - riley2 - __init__ - Initialized CalendarAgentMock with 6 events from config
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [Test - InputQuery] >>> When am I going to Italy?
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [BackendManager - Reasoner] >>> Processing question: 'When am I going to Italy?'
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> Searching April 2025 for Italy events
2025-05-03 00:07:08 - DEBUG - riley2 - calendar_scan - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
2025-05-03 00:07:08 - DEBUG - riley2 - load_config - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
2025-05-03 00:07:08 - INFO - riley2 - calendar_scan - Mock: Found 0 calendar events matching criteria
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventResult] >>> No matching events found.
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [BackendManager - CalendarSearch] >>> No Italy events in April. Searching May 2025
2025-05-03 00:07:08 - DEBUG - riley2 - calendar_scan - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
2025-05-03 00:07:08 - DEBUG - riley2 - load_config - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
2025-05-03 00:07:08 - INFO - riley2 - calendar_scan - Mock: Found 1 calendar events matching criteria
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [CalendarAgent - EventResult] >>> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [BackendManager - DecisionMade] >>> Found Italy event in May
2025-05-03 00:07:08 - INFO - riley2 - log_agent_interaction - [Test - OutputResponse] >>> 15052025
2025-05-03 00:07:08 - INFO - riley2 - log_test_success - [TEST PASSED] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for emails from boss
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for recent emails
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:15:20[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:15:20[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for emails from boss
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m>>>[0m Filtered 1 emails
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for recent emails
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:16:43[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:16:43[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:21:32[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:21:32[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:32[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:21:32[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for emails from boss
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m>>>[0m Filtered 1 emails
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for recent emails
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST: test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m When am I going to Italy?
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m>>>[0m No matching events found.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m>>>[0m Found Italy event in May
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m 15052025
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [[36m[1mTEST: test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:21:33[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:21:33[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:21:37[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22 (Monday):

- World Thinking Day: A day celebrated by Girl Guiding and Girl Scouting organizations worldwide to promote international friendship and understanding.
- National Margarita Day: A popular holiday in the United States where people celebrate by drinking margaritas, a cocktail made with tequila, lime juice, and salt.

2. February 23 (Tuesday):

- International Dog Biscuit Appreciation Day: A day to show appreciation for our canine friends and their favorite treats.
- World Radio Day: A UNESCO event that celebrates radio as a medium to foster inclusive, sustainable, and peaceful societies.

3. February 24 (Wednesday):

- Human Rights Day: Commemorates the Universal Declaration of Human Rights adopted by the United Nations General Assembly on this day in 1948.

4. February 25 (Thursday):

- International Conscience Day: A day to reflect on our moral compass and make a commitment to act ethically and responsibly.

5. February 26 (Friday):

- Tell a Fairy Tale Day: A day to share, read, or write fairy tales with friends, family, or students.
- National Pistachio Day: A day to enjoy pistachios, a type of nut known for its green color and rich flavor.

6. February 27 (Saturday):

- International Polar Bear Day: A day dedicated to raising awareness about the threats facing polar bears in the wild and supporting conservation efforts.

7. February 28 (Sunday):

- International Science Day: A UNESCO event that highlights the role of science in society and its contributions to sustainable development and peace.
[35m2025-05-03 00:21:37[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m>>>[0m Planner decided: 1. February 22 (Monday):

- World Thinking Day: A day celebrated by Girl Guiding and Girl Scouting organizations worldwide to promote international friendship and understanding.
- National Margarita Day: A popular holiday in the United States where people celebrate by drinking margaritas, a cocktail made with tequila, lime juice, and salt.

2. February 23 (Tuesday):

- International Dog Biscuit Appreciation Day: A day to show appreciation for our canine friends and their favorite treats.
- World Radio Day: A UNESCO event that celebrates radio as a medium to foster inclusive, sustainable, and peaceful societies.

3. February 24 (Wednesday):

- Human Rights Day: Commemorates the Universal Declaration of Human Rights adopted by the United Nations General Assembly on this day in 1948.

4. February 25 (Thursday):

- International Conscience Day: A day to reflect on our moral compass and make a commitment to act ethically and responsibly.

5. February 26 (Friday):

- Tell a Fairy Tale Day: A day to share, read, or write fairy tales with friends, family, or students.
- National Pistachio Day: A day to enjoy pistachios, a type of nut known for its green color and rich flavor.

6. February 27 (Saturday):

- International Polar Bear Day: A day dedicated to raising awareness about the threats facing polar bears in the wild and supporting conservation efforts.

7. February 28 (Sunday):

- International Science Day: A UNESCO event that highlights the role of science in society and its contributions to sustainable development and peace.
[35m2025-05-03 00:21:37[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:21:37[0m - [32mINFO[0m - [[36m[1mTEST: test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:21:37[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:21:37[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:21:37[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! Here's a friendly and informative response:

"Great news! According to the calendar search, it appears there is a meeting scheduled for May 15th, 2025 at 9 AM with the Sales team. Please mark your calendars accordingly!"
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m>>>[0m Human-readable output:  Sure thing! Here's a friendly and informative response:

"Great news! According to the calendar search, it appears there is a meeting scheduled for May 15th, 2025 at 9 AM with the Sales team. Please mark your calendars accordingly!"
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST: test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM! Let's make sure to prepare any necessary materials and be on time for our discussion. If you need any assistance or have questions before then, feel free to ask!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:21:38.7203189Z', 'done': True, 'done_reason': 'stop', 'total_duration': 463283900, 'load_duration': 8532400, 'prompt_eval_count': 92, 'prompt_eval_duration': 8837000, 'eval_count': 56, 'eval_duration': 445400300, 'model_name': 'mistral'} id='run-09700dcb-0219-4a31-b10e-6b9c7e9b951f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 56, 'total_tokens': 148}
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM! Let's make sure to prepare any necessary materials and be on time for our discussion. If you need any assistance or have questions before then, feel free to ask!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:21:38.7203189Z', 'done': True, 'done_reason': 'stop', 'total_duration': 463283900, 'load_duration': 8532400, 'prompt_eval_count': 92, 'prompt_eval_duration': 8837000, 'eval_count': 56, 'eval_duration': 445400300, 'model_name': 'mistral'} id='run-09700dcb-0219-4a31-b10e-6b9c7e9b951f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 56, 'total_tokens': 148}
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM! Let's make sure to prepare any necessary materials and be on time for our discussion. If you need any assistance or have questions before then, feel free to ask!
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m>>>[0m Summarized result:  Great news! It looks like we have a scheduled meeting with the sales team tomorrow at 9 AM! Let's make sure to prepare any necessary materials and be on time for our discussion. If you need any assistance or have questions before then, feel free to ask!
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST: test_choose_next_action_email[0m] Testing choose_next_action with 'email from boss'.
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Received query: Check latest email from boss
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Chosen action: email_search
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST: test_choose_next_action_trip[0m] Testing choose_next_action with 'trip to Italy'.
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Received query: Planning a trip to Italy
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Chosen action: calendar_search
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST: test_get_decision[0m] Testing get_decision end-turn logic.
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - DecisionLogic] [33m>>>[0m Received prompt: I have enough information now, thanks.
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:21:38[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [BackendManager - DecisionLogic] [33m>>>[0m Decision made: yes
[35m2025-05-03 00:21:38[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for emails from boss
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m>>>[0m Filtered 1 emails
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for recent emails
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:22:23[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:22:23[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:31:31[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:31:31[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:31:31[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:31:31[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:31:33[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:31:33[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:31:33[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:31:33[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:31:42[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:31:42[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:31:42[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:31:42[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:32:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:32:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:32:15[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for emails from boss
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m When am I going to Italy?
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m>>>[0m Filtered 1 emails
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m>>>[0m No matching events found.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m>>>[0m Found Italy event in May
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m 15052025
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for recent emails
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - InputQuery] [33m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [Test - OutputResponse] [33m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_choose_next_action_email[0m] Testing choose_next_action with 'email from boss'.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Received query: Check latest email from boss
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Chosen action: email_search
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_choose_next_action_trip[0m] Testing choose_next_action with 'trip to Italy'.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Received query: Planning a trip to Italy
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - Planner] [33m>>>[0m Chosen action: calendar_search
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST: test_get_decision[0m] Testing get_decision end-turn logic.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - DecisionLogic] [33m>>>[0m Received prompt: I have enough information now, thanks.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:32:17[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [BackendManager - DecisionLogic] [33m>>>[0m Decision made: yes
[35m2025-05-03 00:32:17[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:32:21[0m - [36mDEBUG[0m - Planner LLM result: 1. February 8, 2023 (Monday): Groundhog Day - A traditional American holiday where Punxsutawney Phil, a groundhog, is used to predict the length of winter based on whether he sees his shadow or not.

2. February 9, 2023 (Tuesday): Super Bowl LVI - The 56th Super Bowl will be held at SoFi Stadium in Inglewood, California, featuring the winners of the National Football League's American Football Conference (AFC) and National Football Conference (NFC).

3. February 10, 2023 (Wednesday): World Cancer Day - An international day marked on February 4 every year to raise awareness and support for cancer patients, survivors, and their families.

4. February 11, 2023 (Thursday): National Foundation Day (Japan) - A national holiday in Japan commemorating the founding of the first imperial court in Japan by Emperor Jimmu in 660 BC.

5. February 12, 2023 (Saturday): Chinese New Year - The first day of the lunar new year in the Chinese calendar, marking the start of the Year of the Ox according to traditional Chinese zodiac.

6. February 14, 2023 (Monday): Valentine's Day - A global celebration of love and affection, commemorating St. Valentine, a Christian martyr.
[35m2025-05-03 00:32:21[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m>>>[0m Planner decided: 1. February 8, 2023 (Monday): Groundhog Day - A traditional American holiday where Punxsutawney Phil, a groundhog, is used to predict the length of winter based on whether he sees his shadow or not.

2. February 9, 2023 (Tuesday): Super Bowl LVI - The 56th Super Bowl will be held at SoFi Stadium in Inglewood, California, featuring the winners of the National Football League's American Football Conference (AFC) and National Football Conference (NFC).

3. February 10, 2023 (Wednesday): World Cancer Day - An international day marked on February 4 every year to raise awareness and support for cancer patients, survivors, and their families.

4. February 11, 2023 (Thursday): National Foundation Day (Japan) - A national holiday in Japan commemorating the founding of the first imperial court in Japan by Emperor Jimmu in 660 BC.

5. February 12, 2023 (Saturday): Chinese New Year - The first day of the lunar new year in the Chinese calendar, marking the start of the Year of the Ox according to traditional Chinese zodiac.

6. February 14, 2023 (Monday): Valentine's Day - A global celebration of love and affection, commemorating St. Valentine, a Christian martyr.
[35m2025-05-03 00:32:21[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:32:21[0m - [32mINFO[0m - [[36m[1mTEST: test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:32:21[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:32:21[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:32:21[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:32:22[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:32:22[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Great news! The tool 'calendar_search' has confirmed that there is a meeting scheduled for May 15th, 2025 at 9 AM. This meeting appears to be with the Sales team. I suggest you make sure you have everything prepared for this important gathering.
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m>>>[0m Human-readable output:  Great news! The tool 'calendar_search' has confirmed that there is a meeting scheduled for May 15th, 2025 at 9 AM. This meeting appears to be with the Sales team. I suggest you make sure you have everything prepared for this important gathering.
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [[36m[1mTEST: test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:32:22[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:32:22[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you. Let's make sure we're well prepared and bring any necessary materials to ensure a productive discussion. If there's anything specific you'd like to discuss or prepare ahead of time, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:32:22.9586821Z', 'done': True, 'done_reason': 'stop', 'total_duration': 646511900, 'load_duration': 5462100, 'prompt_eval_count': 92, 'prompt_eval_duration': 9147400, 'eval_count': 79, 'eval_duration': 631902400, 'model_name': 'mistral'} id='run-64050275-8f84-4767-a048-db0f4a76e7f8-0' usage_metadata={'input_tokens': 92, 'output_tokens': 79, 'total_tokens': 171}
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you. Let's make sure we're well prepared and bring any necessary materials to ensure a productive discussion. If there's anything specific you'd like to discuss or prepare ahead of time, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:32:22.9586821Z', 'done': True, 'done_reason': 'stop', 'total_duration': 646511900, 'load_duration': 5462100, 'prompt_eval_count': 92, 'prompt_eval_duration': 9147400, 'eval_count': 79, 'eval_duration': 631902400, 'model_name': 'mistral'} id='run-64050275-8f84-4767-a048-db0f4a76e7f8-0' usage_metadata={'input_tokens': 92, 'output_tokens': 79, 'total_tokens': 171}
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you. Let's make sure we're well prepared and bring any necessary materials to ensure a productive discussion. If there's anything specific you'd like to discuss or prepare ahead of time, feel free to let me know!
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. I've marked it in our calendar for you. Let's make sure we're well prepared and bring any necessary materials to ensure a productive discussion. If there's anything specific you'd like to discuss or prepare ahead of time, feel free to let me know!
[35m2025-05-03 00:32:22[0m - [32mINFO[0m - [[36m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:38:54[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:38:54[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:38:54[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:38:54[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:39:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:39:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:39:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:39:49[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:39:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:39:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:39:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:39:50[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:41:47[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:41:47[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:41:47[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:41:47[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:41:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:41:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:41:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:41:49[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:42:31[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:42:31[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:42:31[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:42:31[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:43:33[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:43:33[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:43:33[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:43:33[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:43:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:43:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:43:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:43:34[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:45:19[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:45:19[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:45:22[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day

  2. February 23: United Nations International Day of Defenders of Persecuted LGBTIQ+ Individuals

  3. February 24: Human Rights Day

  4. February 25: International Conscience Day

  5. February 26: International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

  6. February 27: International Polar Bear Day

  7. February 28: International Moment of Laughter, also known as Make Someone Smile Day or International Friendship Day (some countries)
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 22: International Mother Language Day

  2. February 23: United Nations International Day of Defenders of Persecuted LGBTIQ+ Individuals

  3. February 24: Human Rights Day

  4. February 25: International Conscience Day

  5. February 26: International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

  6. February 27: International Polar Bear Day

  7. February 28: International Moment of Laughter, also known as Make Someone Smile Day or International Friendship Day (some countries)
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:45:22[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:45:22[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:45:22[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:45:22[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Based on your request to search the calendar for the date '2025-05-15', I found that there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Based on your request to search the calendar for the date '2025-05-15', I found that there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:45:22[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:45:22[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. I'm looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:45:23.1485051Z', 'done': True, 'done_reason': 'stop', 'total_duration': 444950500, 'load_duration': 10210500, 'prompt_eval_count': 92, 'prompt_eval_duration': 8223200, 'eval_count': 54, 'eval_duration': 425606800, 'model_name': 'mistral'} id='run-462c8d22-9d7c-4af3-83cc-2c55d5a9b8ab-0' usage_metadata={'input_tokens': 92, 'output_tokens': 54, 'total_tokens': 146}
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. I'm looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:45:23.1485051Z', 'done': True, 'done_reason': 'stop', 'total_duration': 444950500, 'load_duration': 10210500, 'prompt_eval_count': 92, 'prompt_eval_duration': 8223200, 'eval_count': 54, 'eval_duration': 425606800, 'model_name': 'mistral'} id='run-462c8d22-9d7c-4af3-83cc-2c55d5a9b8ab-0' usage_metadata={'input_tokens': 92, 'output_tokens': 54, 'total_tokens': 146}
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. I'm looking forward to it!
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. I'm looking forward to it!
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:45:23[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:45:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:45:39[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:45:39[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:45:40[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:45:40[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:45:42[0m - [36mDEBUG[0m - Planner LLM result: 1. February 23: International Polar Bear Day

  2. February 24: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

  3. February 25: International Public Domain Day

  4. February 26: National Pistachio Day (USA)

  5. February 27: International Polar Bear Day (Russia)

  6. February 28: International Moment of Laughter Day

  7. February 28: International Fact-Checking Day

  8. March 1: World Compliment Day

  9. March 1: World Book Day (UNESCO)

  These are some of the events coming up next week. Please note that these dates may vary depending on the region or country, and some events may not be widely recognized globally.
[35m2025-05-03 00:45:42[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 23: International Polar Bear Day

  2. February 24: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

  3. February 25: International Public Domain Day

  4. February 26: National Pistachio Day (USA)

  5. February 27: International Polar Bear Day (Russia)

  6. February 28: International Moment of Laughter Day

  7. February 28: International Fact-Checking Day

  8. March 1: World Compliment Day

  9. March 1: World Book Day (UNESCO)

  These are some of the events coming up next week. Please note that these dates may vary depending on the region or country, and some events may not be widely recognized globally.
[35m2025-05-03 00:45:42[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:45:42[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:45:42[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:45:42[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:45:42[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:45:43[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:45:43[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Based on your request to search the calendar for May 15, 2025, I found that you have a meeting scheduled at 9 AM with the Sales team. Hope this helps! If you need any more information or assistance, feel free to ask.
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Based on your request to search the calendar for May 15, 2025, I found that you have a meeting scheduled at 9 AM with the Sales team. Hope this helps! If you need any more information or assistance, feel free to ask.
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:45:43[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:45:43[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our strategies to drive success in the coming weeks. If you need any assistance or have questions before then, feel free to reach out. Looking forward to our productive discussion!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:45:43.7109918Z', 'done': True, 'done_reason': 'stop', 'total_duration': 560528200, 'load_duration': 3563100, 'prompt_eval_count': 92, 'prompt_eval_duration': 10407100, 'eval_count': 69, 'eval_duration': 546046500, 'model_name': 'mistral'} id='run-b742db57-aa79-47ab-8fc3-347b5fd8058e-0' usage_metadata={'input_tokens': 92, 'output_tokens': 69, 'total_tokens': 161}
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our strategies to drive success in the coming weeks. If you need any assistance or have questions before then, feel free to reach out. Looking forward to our productive discussion!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:45:43.7109918Z', 'done': True, 'done_reason': 'stop', 'total_duration': 560528200, 'load_duration': 3563100, 'prompt_eval_count': 92, 'prompt_eval_duration': 10407100, 'eval_count': 69, 'eval_duration': 546046500, 'model_name': 'mistral'} id='run-b742db57-aa79-47ab-8fc3-347b5fd8058e-0' usage_metadata={'input_tokens': 92, 'output_tokens': 69, 'total_tokens': 161}
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our strategies to drive success in the coming weeks. If you need any assistance or have questions before then, feel free to reach out. Looking forward to our productive discussion!
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our strategies to drive success in the coming weeks. If you need any assistance or have questions before then, feel free to reach out. Looking forward to our productive discussion!
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:45:43[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:45:43[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:45:43[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:45:44[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:45:44[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:45:44[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:45:44[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:45:44[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:45:45[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:47:48[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:47:48[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:47:49[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Planner LLM result: 1. March 8, 2023 (Tuesday): International Women's Day

  2. March 9, 2023 (Wednesday): World Poetry Day

  3. March 10, 2023 (Thursday): National Women and Girls in Science Day

  4. March 11, 2023 (Friday): Johnny Appleseed Day

  5. March 12, 2023 (Saturday): International Day of Forests

  6. March 13, 2023 (Sunday): Ear Thomas Day (also known as Dr. Everett K. Hale Day)
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. March 8, 2023 (Tuesday): International Women's Day

  2. March 9, 2023 (Wednesday): World Poetry Day

  3. March 10, 2023 (Thursday): National Women and Girls in Science Day

  4. March 11, 2023 (Friday): Johnny Appleseed Day

  5. March 12, 2023 (Saturday): International Day of Forests

  6. March 13, 2023 (Sunday): Ear Thomas Day (also known as Dr. Everett K. Hale Day)
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:47:50[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:47:50[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:47:51[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:47:51[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Great news! I found an entry in your calendar for May 15th, 2025. It appears that you have a meeting scheduled with the Sales team at 9 AM on that day. Please make sure to prepare accordingly and mark any conflicts in your schedule so as not to miss this important engagement.
[35m2025-05-03 00:47:51[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Great news! I found an entry in your calendar for May 15th, 2025. It appears that you have a meeting scheduled with the Sales team at 9 AM on that day. Please make sure to prepare accordingly and mark any conflicts in your schedule so as not to miss this important engagement.
[35m2025-05-03 00:47:51[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:47:51[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:47:51[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:47:51[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:47:51[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:47:52[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current strategies and progress. If you need help gathering information or setting up the conference call, just let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:47:52.5083521Z', 'done': True, 'done_reason': 'stop', 'total_duration': 729537000, 'load_duration': 4085800, 'prompt_eval_count': 92, 'prompt_eval_duration': 33157300, 'eval_count': 62, 'eval_duration': 690911300, 'model_name': 'mistral'} id='run-d3ae22fd-1d3c-4e28-a043-7ff4b88588ad-0' usage_metadata={'input_tokens': 92, 'output_tokens': 62, 'total_tokens': 154}
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current strategies and progress. If you need help gathering information or setting up the conference call, just let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:47:52.5083521Z', 'done': True, 'done_reason': 'stop', 'total_duration': 729537000, 'load_duration': 4085800, 'prompt_eval_count': 92, 'prompt_eval_duration': 33157300, 'eval_count': 62, 'eval_duration': 690911300, 'model_name': 'mistral'} id='run-d3ae22fd-1d3c-4e28-a043-7ff4b88588ad-0' usage_metadata={'input_tokens': 92, 'output_tokens': 62, 'total_tokens': 154}
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current strategies and progress. If you need help gathering information or setting up the conference call, just let me know!
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current strategies and progress. If you need help gathering information or setting up the conference call, just let me know!
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:52[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game, taking place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A tradition where groundhogs are used to predict the end of winter based on whether or not they see their shadow when emerging from their burrow.

3. February 4th (Thursday): National Create a Vacuum Day - A day to celebrate vacuums and the work they do in keeping our homes clean.

4. February 5th (Saturday): Chinese New Year - Celebrating the beginning of the lunar new year, which marks the start of the Year of the Tiger according to the Chinese zodiac.

5. February 7th (Monday): Safer Internet Day - An international day of action to promote safer and more responsible use of digital technology, especially for children and young people.
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game, taking place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A tradition where groundhogs are used to predict the end of winter based on whether or not they see their shadow when emerging from their burrow.

3. February 4th (Thursday): National Create a Vacuum Day - A day to celebrate vacuums and the work they do in keeping our homes clean.

4. February 5th (Saturday): Chinese New Year - Celebrating the beginning of the lunar new year, which marks the start of the Year of the Tiger according to the Chinese zodiac.

5. February 7th (Monday): Safer Internet Day - An international day of action to promote safer and more responsible use of digital technology, especially for children and young people.
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:52[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:47:52[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:47:52[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! Based on your query using the 'calendar_search' tool with the specified date of '2025-05-15', it appears that there is a meeting scheduled for 9 AM with the Sales team.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Sure thing! Based on your query using the 'calendar_search' tool with the specified date of '2025-05-15', it appears that there is a meeting scheduled for 9 AM with the Sales team.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! Here's how I would interpret that for you: It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time so you can make the most out of this gathering. If you have any questions or need assistance, feel free to reach out!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:47:53.6949414Z', 'done': True, 'done_reason': 'stop', 'total_duration': 637966200, 'load_duration': 3054100, 'prompt_eval_count': 92, 'prompt_eval_duration': 4170300, 'eval_count': 75, 'eval_duration': 630232400, 'model_name': 'mistral'} id='run-a40d196c-7a1f-4f1d-9159-ea7632b7f49a-0' usage_metadata={'input_tokens': 92, 'output_tokens': 75, 'total_tokens': 167}
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! Here's how I would interpret that for you: It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time so you can make the most out of this gathering. If you have any questions or need assistance, feel free to reach out!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:47:53.6949414Z', 'done': True, 'done_reason': 'stop', 'total_duration': 637966200, 'load_duration': 3054100, 'prompt_eval_count': 92, 'prompt_eval_duration': 4170300, 'eval_count': 75, 'eval_duration': 630232400, 'model_name': 'mistral'} id='run-a40d196c-7a1f-4f1d-9159-ea7632b7f49a-0' usage_metadata={'input_tokens': 92, 'output_tokens': 75, 'total_tokens': 167}
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! Here's how I would interpret that for you: It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time so you can make the most out of this gathering. If you have any questions or need assistance, feel free to reach out!
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Sure thing! Here's how I would interpret that for you: It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time so you can make the most out of this gathering. If you have any questions or need assistance, feel free to reach out!
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Asked about latest boss email
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager  LLM: Determined email search needed
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 3. [Action] BackendManager  EmailAgent: Executed email search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 4. [Result] EmailAgent  BackendManager: Found latest email about Project Update
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 5. [Output] BackendManager  User: Provided email details
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Asked about trip to Italy
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager  LLM: Determined calendar search needed
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 3. [Action] BackendManager  CalendarAgent: Executed calendar search
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 4. [Result] CalendarAgent  BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 5. [Output] BackendManager  User: Provided trip details
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_get_decision ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_get_decision ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:47:53[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Said they have enough information
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 2. [Analysis] BackendManager  LLM: Analyzed if conversation should end
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager  System: Decided to end the conversation turn
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_get_decision ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_get_decision ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_frontend_dummy ===[0m
[36m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_frontend_dummy ===[0m
[36m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 1. [Input] User  Frontend: Asked about meetings
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 2. [Process] Frontend  LLM: Generated query response
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 3. [Output] Frontend  User: Provided meeting information
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:47:53[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:47:53[0m - [32mINFO[0m - [33m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m[0m
[35m2025-05-03 00:49:08[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:08[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:08[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:08[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:08[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:08[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:08[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:08[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:49:11[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:49:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:12[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:49:12[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:49:14[0m - [36mDEBUG[0m - Planner LLM result: 1. February 8, 2023 (Monday): Groundhog Day - A traditional American holiday where Punxsutawney Phil, a groundhog, is used to predict the length of winter based on whether he sees his shadow or not.

2. February 9, 2023 (Tuesday): Super Bowl LVI - The championship game of the National Football League (NFL) between the Kansas City Chiefs and the Philadelphia Eagles at SoFi Stadium in Inglewood, California.

3. February 10, 2023 (Wednesday): World Cancer Day - An international day marked on February 4th each year to raise awareness and support for those affected by cancer.

4. February 11, 2023 (Saturday): Chinese New Year - Celebrated on the first day of the first lunar month in the Chinese calendar, marking the beginning of the Year of the Ox according to the 12-year cycle of the Chinese zodiac.

5. February 14, 2023 (Tuesday): Valentine's Day - A celebration of love and affection between intimate partners, friends, and family members.
[35m2025-05-03 00:49:14[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 8, 2023 (Monday): Groundhog Day - A traditional American holiday where Punxsutawney Phil, a groundhog, is used to predict the length of winter based on whether he sees his shadow or not.

2. February 9, 2023 (Tuesday): Super Bowl LVI - The championship game of the National Football League (NFL) between the Kansas City Chiefs and the Philadelphia Eagles at SoFi Stadium in Inglewood, California.

3. February 10, 2023 (Wednesday): World Cancer Day - An international day marked on February 4th each year to raise awareness and support for those affected by cancer.

4. February 11, 2023 (Saturday): Chinese New Year - Celebrated on the first day of the first lunar month in the Chinese calendar, marking the beginning of the Year of the Ox according to the 12-year cycle of the Chinese zodiac.

5. February 14, 2023 (Tuesday): Valentine's Day - A celebration of love and affection between intimate partners, friends, and family members.
[35m2025-05-03 00:49:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:49:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:49:14[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:14[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:14[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - Planner LLM result: 1. March 2nd (Tuesday): Super Tuesday Primaries in the United States

2. March 3rd (Wednesday): World Wildlife Day - International observance day to celebrate and raise awareness of the world's wildlife

3. March 4th (Thursday): National Grammar Day - A day to celebrate proper grammar, punctuation, and usage in the English language

4. March 5th (Friday): World Book Day - A celebration of books and reading, marked in many countries around the world

5. March 6th (Saturday): International Day of Zero Tolerance for Female Genital Mutilation - An observance day to raise awareness about female genital mutilation and its consequences

6. March 7th (Sunday): World Laboratory Animal Freedom Day - A day to promote the humane treatment of animals used in scientific research

7. March 8th (Monday): International Women's Day - A global day celebrating the social, economic, cultural, and political achievements of women

These events are significant on a global scale and have an impact on various aspects of society, culture, and politics.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. March 2nd (Tuesday): Super Tuesday Primaries in the United States

2. March 3rd (Wednesday): World Wildlife Day - International observance day to celebrate and raise awareness of the world's wildlife

3. March 4th (Thursday): National Grammar Day - A day to celebrate proper grammar, punctuation, and usage in the English language

4. March 5th (Friday): World Book Day - A celebration of books and reading, marked in many countries around the world

5. March 6th (Saturday): International Day of Zero Tolerance for Female Genital Mutilation - An observance day to raise awareness about female genital mutilation and its consequences

6. March 7th (Sunday): World Laboratory Animal Freedom Day - A day to promote the humane treatment of animals used in scientific research

7. March 8th (Monday): International Women's Day - A global day celebrating the social, economic, cultural, and political achievements of women

These events are significant on a global scale and have an impact on various aspects of society, culture, and politics.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Good news! I have checked the calendar for you and found that there is a meeting scheduled with the Sales team on May 15th, 2025, at 9 AM.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Good news! I have checked the calendar for you and found that there is a meeting scheduled with the Sales team on May 15th, 2025, at 9 AM.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Based on your request to search the calendar for May 15th, 2025, I found a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Based on your request to search the calendar for May 15th, 2025, I found a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:15[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:15[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Summarization result: content=" Great news! I've just checked your schedule and it looks like you have a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials in advance so you can make the most of this meeting. Have a productive day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:16.1212459Z', 'done': True, 'done_reason': 'stop', 'total_duration': 659986800, 'load_duration': 4616200, 'prompt_eval_count': 92, 'prompt_eval_duration': 28683800, 'eval_count': 55, 'eval_duration': 626686800, 'model_name': 'mistral'} id='run-7796d7b8-eb65-42ad-a1e6-da87e439d20a-0' usage_metadata={'input_tokens': 92, 'output_tokens': 55, 'total_tokens': 147}
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! I've just checked your schedule and it looks like you have a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials in advance so you can make the most of this meeting. Have a productive day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:16.1212459Z', 'done': True, 'done_reason': 'stop', 'total_duration': 659986800, 'load_duration': 4616200, 'prompt_eval_count': 92, 'prompt_eval_duration': 28683800, 'eval_count': 55, 'eval_duration': 626686800, 'model_name': 'mistral'} id='run-7796d7b8-eb65-42ad-a1e6-da87e439d20a-0' usage_metadata={'input_tokens': 92, 'output_tokens': 55, 'total_tokens': 147}
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! I've just checked your schedule and it looks like you have a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials in advance so you can make the most of this meeting. Have a productive day!
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! I've just checked your schedule and it looks like you have a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials in advance so you can make the most of this meeting. Have a productive day!
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss strategies or updates related to sales. If there's anything specific you need to focus on ahead of the meeting, feel free to reach out and let me know. I'll remind you again closer to the time!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:16.5680853Z', 'done': True, 'done_reason': 'stop', 'total_duration': 761366500, 'load_duration': 3592900, 'prompt_eval_count': 92, 'prompt_eval_duration': 42681900, 'eval_count': 79, 'eval_duration': 715091700, 'model_name': 'mistral'} id='run-387d53cf-5ced-402b-b5b2-430fadac250f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 79, 'total_tokens': 171}
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss strategies or updates related to sales. If there's anything specific you need to focus on ahead of the meeting, feel free to reach out and let me know. I'll remind you again closer to the time!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:16.5680853Z', 'done': True, 'done_reason': 'stop', 'total_duration': 761366500, 'load_duration': 3592900, 'prompt_eval_count': 92, 'prompt_eval_duration': 42681900, 'eval_count': 79, 'eval_duration': 715091700, 'model_name': 'mistral'} id='run-387d53cf-5ced-402b-b5b2-430fadac250f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 79, 'total_tokens': 171}
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss strategies or updates related to sales. If there's anything specific you need to focus on ahead of the meeting, feel free to reach out and let me know. I'll remind you again closer to the time!
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss strategies or updates related to sales. If there's anything specific you need to focus on ahead of the meeting, feel free to reach out and let me know. I'll remind you again closer to the time!
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Asked about latest boss email
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager  LLM: Determined email search needed
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 3. [Action] BackendManager  EmailAgent: Executed email search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 4. [Result] EmailAgent  BackendManager: Found latest email about Project Update
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 5. [Output] BackendManager  User: Provided email details
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Asked about trip to Italy
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager  LLM: Determined calendar search needed
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 3. [Action] BackendManager  CalendarAgent: Executed calendar search
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 4. [Result] CalendarAgent  BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 5. [Output] BackendManager  User: Provided trip details
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_get_decision ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_get_decision ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:49:16[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Said they have enough information
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 2. [Analysis] BackendManager  LLM: Analyzed if conversation should end
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager  System: Decided to end the conversation turn
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_get_decision ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_get_decision ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_frontend_dummy ===[0m
[36m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_frontend_dummy ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 1. [Input] User  Frontend: Asked about meetings
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 2. [Process] Frontend  LLM: Generated query response
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 3. [Output] Frontend  User: Provided meeting information
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:16[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:16[0m - [32mINFO[0m - [33m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m[0m
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:49:34[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:49:34[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m What emails did I get from my boss?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for emails from boss
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - DownloadResult] [33m[1m>>>[0m Downloaded 2 emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - FilterResult] [33m[1m>>>[0m Filtered 1 emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Tell me about any recent emails
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Tell me about any recent emails'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for recent emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m Any updates on my Italy trip?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - Processing] [33m[1m>>>[0m Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] [33m[1m>>>[0m Searching for Italy trip emails
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [EmailAgent - SummaryResult] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - InputQuery] [33m[1m>>>[0m When am I going to Italy?
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - Reasoner] [33m[1m>>>[0m Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m Searching April 2025 for Italy events
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m No matching events found.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - CalendarSearch] [33m[1m>>>[0m No Italy events in April. Searching May 2025
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [CalendarAgent - EventResult] [33m[1m>>>[0m Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendManager - DecisionMade] [33m[1m>>>[0m Found Italy event in May
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [Test - OutputResponse] [33m[1m>>>[0m 15052025
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:35[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:49:35[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:49:36[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day

  2. February 23: World Radio Day

  3. February 24: United Nations (UN) Day for the Elimination of Racial Discrimination

  4. February 25: International Day of Definitely Not Making Up Random Holidays

  5. February 26: International Fancy Dress Day (unofficial, but fun!)

  6. February 27: International Polar Bear Day

  7. February 28: International Moment of Laughter Day (unofficial, but fun!)
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 22: International Mother Language Day

  2. February 23: World Radio Day

  3. February 24: United Nations (UN) Day for the Elimination of Racial Discrimination

  4. February 25: International Day of Definitely Not Making Up Random Holidays

  5. February 26: International Fancy Dress Day (unofficial, but fun!)

  6. February 27: International Polar Bear Day

  7. February 28: International Moment of Laughter Day (unofficial, but fun!)
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:49:36[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:36[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:36[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:37[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:49:37[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Good news! Your requested search on the calendar for May 15th, 2025 has returned a result. It appears there's a meeting scheduled for 9 AM with the Sales team. Please make sure to prepare accordingly. Have a great day!
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output:  Good news! Your requested search on the calendar for May 15th, 2025 has returned a result. It appears there's a meeting scheduled for 9 AM with the Sales team. Please make sure to prepare accordingly. Have a great day!
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:37[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:37[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:38.053898Z', 'done': True, 'done_reason': 'stop', 'total_duration': 518524500, 'load_duration': 3854800, 'prompt_eval_count': 92, 'prompt_eval_duration': 24391300, 'eval_count': 44, 'eval_duration': 490278400, 'model_name': 'mistral'} id='run-20bd2184-dcf3-4782-93d2-1d060a9178ab-0' usage_metadata={'input_tokens': 92, 'output_tokens': 44, 'total_tokens': 136}
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:38.053898Z', 'done': True, 'done_reason': 'stop', 'total_duration': 518524500, 'load_duration': 3854800, 'prompt_eval_count': 92, 'prompt_eval_duration': 24391300, 'eval_count': 44, 'eval_duration': 490278400, 'model_name': 'mistral'} id='run-20bd2184-dcf3-4782-93d2-1d060a9178ab-0' usage_metadata={'input_tokens': 92, 'output_tokens': 44, 'total_tokens': 136}
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time. Let's make it productive!
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day - A UNESCO observance held annually on the 21st of February to promote linguistic and cultural diversity and multilingualism.

2. February 23: United Nations Day for Women's Rights and Gender Equality (International Women's Day) - A day that celebrates women's achievements, raises awareness about women's equality, and marks a call to action for accelerating gender parity.

3. February 24: Human Factors and Ergonomics Day - A day dedicated to raising awareness of the importance of human factors/ergonomics in design, engineering, and technology.

4. February 25: International Day of Making a Difference - A day that encourages individuals to take action and make a positive impact on their communities and the world.

5. February 26: Tell a Fairy Tale Day - A day dedicated to sharing and enjoying fairy tales, both old and new.

6. February 27: International Polar Bear Day - A day that raises awareness about the threats facing polar bears in the wild and encourages conservation efforts.

7. February 28: International Science Day - A day that highlights the importance of science as a means to improve our lives, and promotes scientific literacy and the role of science in society.
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [BackendPlanner - Planner] [33m[1m>>>[0m Planner decided: 1. February 22: International Mother Language Day - A UNESCO observance held annually on the 21st of February to promote linguistic and cultural diversity and multilingualism.

2. February 23: United Nations Day for Women's Rights and Gender Equality (International Women's Day) - A day that celebrates women's achievements, raises awareness about women's equality, and marks a call to action for accelerating gender parity.

3. February 24: Human Factors and Ergonomics Day - A day dedicated to raising awareness of the importance of human factors/ergonomics in design, engineering, and technology.

4. February 25: International Day of Making a Difference - A day that encourages individuals to take action and make a positive impact on their communities and the world.

5. February 26: Tell a Fairy Tale Day - A day dedicated to sharing and enjoying fairy tales, both old and new.

6. February 27: International Polar Bear Day - A day that raises awareness about the threats facing polar bears in the wild and encourages conservation efforts.

7. February 28: International Science Day - A day that highlights the importance of science as a means to improve our lives, and promotes scientific literacy and the role of science in society.
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:38[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:38[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:49:39[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:49:39[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response: Great news! I found that a meeting is scheduled for May 15, 2025, at 9 AM and it's with our Sales team. Make sure to mark your calendar accordingly!
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] [33m[1m>>>[0m Human-readable output: Great news! I found that a meeting is scheduled for May 15, 2025, at 9 AM and it's with our Sales team. Make sure to mark your calendar accordingly!
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:39[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:39[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:40.0068044Z', 'done': True, 'done_reason': 'stop', 'total_duration': 599235600, 'load_duration': 3479100, 'prompt_eval_count': 92, 'prompt_eval_duration': 1506600, 'eval_count': 71, 'eval_duration': 594249900, 'model_name': 'mistral'} id='run-a206caac-9ff8-4070-b04d-448bd06363b6-0' usage_metadata={'input_tokens': 92, 'output_tokens': 71, 'total_tokens': 163}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:49:40.0068044Z', 'done': True, 'done_reason': 'stop', 'total_duration': 599235600, 'load_duration': 3479100, 'prompt_eval_count': 92, 'prompt_eval_duration': 1506600, 'eval_count': 71, 'eval_duration': 594249900, 'model_name': 'mistral'} id='run-a206caac-9ff8-4070-b04d-448bd06363b6-0' usage_metadata={'input_tokens': 92, 'output_tokens': 71, 'total_tokens': 163}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [BackendManager - Summarizer] [33m[1m>>>[0m Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so that we can make the most out of our discussion. If you need any assistance or have any specific topics you'd like to address, feel free to let me know!
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Asked about latest boss email
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager  LLM: Determined email search needed
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [Action] BackendManager  EmailAgent: Executed email search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 4. [Result] EmailAgent  BackendManager: Found latest email about Project Update
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 5. [Output] BackendManager  User: Provided email details
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [33m[1m>>>[0m [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] [32m[1m<<<[0m [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Asked about trip to Italy
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager  LLM: Determined calendar search needed
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [Action] BackendManager  CalendarAgent: Executed calendar search
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 4. [Result] CalendarAgent  BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 5. [Output] BackendManager  User: Provided trip details
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_get_decision ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_get_decision ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:49:40[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] [33m[1m>>>[0m [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User  BackendManager: Said they have enough information
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [Analysis] BackendManager  LLM: Analyzed if conversation should end
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager  System: Decided to end the conversation turn
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_get_decision ===[0m
[32m[1m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_get_decision ===[0m
[32m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_frontend_dummy ===[0m
[36m[1m[0m

[36m[1m[0m
[36m[1m STARTING TEST: test_frontend_dummy ===[0m
[36m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [33m[1m>>>[0m [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] [32m[1m<<<[0m [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 1. [Input] User  Frontend: Asked about meetings
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 2. [Process] Frontend  LLM: Generated query response
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 3. [Output] Frontend  User: Provided meeting information
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[35m2025-05-03 00:49:40[0m - [32mINFO[0m - 
[32m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [32m[1m[0m


[32m[1m[0m
[32m[1m FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:49:40[0m - [32mINFO[0m - [33m[0m

[32m[1m[0m
[32m[1m FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m[0m
[35m2025-05-03 00:52:10[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:52:10[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:10[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:52:10[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:52:37[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:52:37[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:37[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:52:37[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:38[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:52:38[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - Los Angeles, California, USA

2. February 3rd (Wednesday): World Wetlands Day - International

3. February 4th (Thursday): Candlemas - Christian Observance

4. February 5th (Friday): Safer Internet Day - International

5. February 6th (Saturday): Chinese New Year - China, Taiwan, Vietnam, Korea, Singapore, and other Asian countries

6. February 7th (Sunday): Groundhog Day - United States and Canada

7. February 8th (Monday): International Dalit History Week - India

8. February 9th (Tuesday): National Pizza Day - United States

Please note that these events are not exhaustive, and there may be other local or regional events taking place next week. Always check for updates from reliable sources to confirm the details of any event.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - Los Angeles, California, USA

2. February 3rd (Wednesday): World Wetlands Day - International

3. February 4th (Thursday): Candlemas - Christian Observance

4. February 5th (Friday): Safer Internet Day - International

5. February 6th (Saturday): Chinese New Year - China, Taiwan, Vietnam, Korea, Singapore, and other Asian countries

6. February 7th (Sunday): Groundhog Day - United States and Canada

7. February 8th (Monday): International Dalit History Week - India

8. February 9th (Tuesday): National Pizza Day - United States

Please note that these events are not exhaustive, and there may be other local or regional events taking place next week. Always check for updates from reliable sources to confirm the details of any event.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  I have found that a meeting has been scheduled for May 15th, 2025 at 9 AM with the Sales team.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  I have found that a meeting has been scheduled for May 15th, 2025 at 9 AM with the Sales team.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Summarization result: content=" Great news! There's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be ready to discuss our current sales strategies or any upcoming opportunities. I look forward to working together!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:52:40.923595Z', 'done': True, 'done_reason': 'stop', 'total_duration': 411947900, 'load_duration': 3050400, 'prompt_eval_count': 92, 'prompt_eval_duration': 1041400, 'eval_count': 49, 'eval_duration': 407286000, 'model_name': 'mistral'} id='run-aa59c6f9-fb6f-4183-864f-33079dd15405-0' usage_metadata={'input_tokens': 92, 'output_tokens': 49, 'total_tokens': 141}
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! There's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be ready to discuss our current sales strategies or any upcoming opportunities. I look forward to working together!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:52:40.923595Z', 'done': True, 'done_reason': 'stop', 'total_duration': 411947900, 'load_duration': 3050400, 'prompt_eval_count': 92, 'prompt_eval_duration': 1041400, 'eval_count': 49, 'eval_duration': 407286000, 'model_name': 'mistral'} id='run-aa59c6f9-fb6f-4183-864f-33079dd15405-0' usage_metadata={'input_tokens': 92, 'output_tokens': 49, 'total_tokens': 141}
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! There's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be ready to discuss our current sales strategies or any upcoming opportunities. I look forward to working together!
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! There's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials and be ready to discuss our current sales strategies or any upcoming opportunities. I look forward to working together!
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:52:40[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:52:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:52:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:54:18[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:54:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session with enhanced colorful logging
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:19[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:54:19[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:54:20[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day (UNESCO)

2. February 23: World Radio Day (UNESCO)

3. February 24: United Nations System Chief Executives Board for Coordination Meeting (New York, USA)

4. February 25: International Day of Making a Difference (IDMD)

5. February 26: International Legume Day

6. February 27: International Polar Bear Day

7. February 28: International NASA Day

8. February 29 (Leap Year): Rare Disease Day (Third Saturday of February in non-leap years)
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 22: International Mother Language Day (UNESCO)

2. February 23: World Radio Day (UNESCO)

3. February 24: United Nations System Chief Executives Board for Coordination Meeting (New York, USA)

4. February 25: International Day of Making a Difference (IDMD)

5. February 26: International Legume Day

6. February 27: International Polar Bear Day

7. February 28: International NASA Day

8. February 29 (Leap Year): Rare Disease Day (Third Saturday of February in non-leap years)
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:20[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:54:20[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:54:20[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:54:21[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:54:21[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  I found that you have a meeting scheduled on May 15th, 2025 at 9 AM with the Sales team.
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  I found that you have a meeting scheduled on May 15th, 2025 at 9 AM with the Sales team.
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:54:21[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:54:21[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! It looks like there's a meeting scheduled for tomorrow morning at 9 AM with the sales team. Keep an eye on your calendar for more details as they become available. If you have any questions or need to prepare in advance, feel free to reach out!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:54:21.9866325Z', 'done': True, 'done_reason': 'stop', 'total_duration': 669734900, 'load_duration': 6664200, 'prompt_eval_count': 92, 'prompt_eval_duration': 17132900, 'eval_count': 57, 'eval_duration': 645937800, 'model_name': 'mistral'} id='run-4af52994-4e52-4f80-b18b-4cef921cbcb6-0' usage_metadata={'input_tokens': 92, 'output_tokens': 57, 'total_tokens': 149}
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! It looks like there's a meeting scheduled for tomorrow morning at 9 AM with the sales team. Keep an eye on your calendar for more details as they become available. If you have any questions or need to prepare in advance, feel free to reach out!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:54:21.9866325Z', 'done': True, 'done_reason': 'stop', 'total_duration': 669734900, 'load_duration': 6664200, 'prompt_eval_count': 92, 'prompt_eval_duration': 17132900, 'eval_count': 57, 'eval_duration': 645937800, 'model_name': 'mistral'} id='run-4af52994-4e52-4f80-b18b-4cef921cbcb6-0' usage_metadata={'input_tokens': 92, 'output_tokens': 57, 'total_tokens': 149}
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! It looks like there's a meeting scheduled for tomorrow morning at 9 AM with the sales team. Keep an eye on your calendar for more details as they become available. If you have any questions or need to prepare in advance, feel free to reach out!
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! It looks like there's a meeting scheduled for tomorrow morning at 9 AM with the sales team. Keep an eye on your calendar for more details as they become available. If you have any questions or need to prepare in advance, feel free to reach out!
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:54:21[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:23[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22, 2023 (Monday):

- Groundhog Day: A popular tradition in the United States where a groundhog emerges from its burrow and if it sees its shadow, there will be six more weeks of winter.
- National Margarita Day: Celebrated in the United States to honor the popular cocktail made with tequila, lime juice, and salt.

2. February 23, 2023 (Tuesday):

- International Dog Biscuit Appreciation Day: A day dedicated to showing appreciation for our canine friends and their favorite treats.

3. February 24, 2023 (Wednesday):

- National Tortilla Chip Day: Celebrated in the United States to honor this popular snack that is often enjoyed with salsa or guacamole.

4. February 25, 2023 (Thursday):

- International Snacker's Day: A day dedicated to enjoying all types of snacks throughout the day.

5. February 26, 2023 (Saturday):

- Tell a Fairy Tale Day: A day to share and enjoy fairy tales with family and friends.
- National Pistachio Day: Celebrated in the United States to honor this popular nut that is often enjoyed as a snack or used in cooking.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 22, 2023 (Monday):

- Groundhog Day: A popular tradition in the United States where a groundhog emerges from its burrow and if it sees its shadow, there will be six more weeks of winter.
- National Margarita Day: Celebrated in the United States to honor the popular cocktail made with tequila, lime juice, and salt.

2. February 23, 2023 (Tuesday):

- International Dog Biscuit Appreciation Day: A day dedicated to showing appreciation for our canine friends and their favorite treats.

3. February 24, 2023 (Wednesday):

- National Tortilla Chip Day: Celebrated in the United States to honor this popular snack that is often enjoyed with salsa or guacamole.

4. February 25, 2023 (Thursday):

- International Snacker's Day: A day dedicated to enjoying all types of snacks throughout the day.

5. February 26, 2023 (Saturday):

- Tell a Fairy Tale Day: A day to share and enjoy fairy tales with family and friends.
- National Pistachio Day: Celebrated in the United States to honor this popular nut that is often enjoyed as a snack or used in cooking.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:54:23[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:54:23[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:54:23[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:54:23[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Based on your request to search the calendar for the specified date ('2025-05-15'), I'm happy to inform you that there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Based on your request to search the calendar for the specified date ('2025-05-15'), I'm happy to inform you that there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:54:23[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:54:23[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials in advance so you can make the most out of the session. If you have any questions or need assistance in preparing, feel free to ask!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:54:24.1091906Z', 'done': True, 'done_reason': 'stop', 'total_duration': 544147300, 'load_duration': 3419200, 'prompt_eval_count': 92, 'prompt_eval_duration': 2772200, 'eval_count': 64, 'eval_duration': 537955900, 'model_name': 'mistral'} id='run-b058c3d0-8e32-48ed-99ee-e94958e8a934-0' usage_metadata={'input_tokens': 92, 'output_tokens': 64, 'total_tokens': 156}
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials in advance so you can make the most out of the session. If you have any questions or need assistance in preparing, feel free to ask!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:54:24.1091906Z', 'done': True, 'done_reason': 'stop', 'total_duration': 544147300, 'load_duration': 3419200, 'prompt_eval_count': 92, 'prompt_eval_duration': 2772200, 'eval_count': 64, 'eval_duration': 537955900, 'model_name': 'mistral'} id='run-b058c3d0-8e32-48ed-99ee-e94958e8a934-0' usage_metadata={'input_tokens': 92, 'output_tokens': 64, 'total_tokens': 156}
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials in advance so you can make the most out of the session. If you have any questions or need assistance in preparing, feel free to ask!
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials in advance so you can make the most out of the session. If you have any questions or need assistance in preparing, feel free to ask!
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:54:24[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:54:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete
[35m2025-05-03 00:54:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:57:42[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:57:42[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:57:42[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:57:42[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:57:42[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:57:42[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:57:42[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 00:57:42[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:57:42[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 00:58:00 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0049s
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 00:58:00 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 00:58:00 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
-----------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0058s
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0064s
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Total tests collected: 1
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Total tests collected: 1
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0036s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0031s
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 00:58:00 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 00:58:00 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0140s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0063s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:00[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0051s
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 00:58:00
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:00[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:00[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:01
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 00:58:01 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0056s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:01
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0029s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:01
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0041s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:01
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0046s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:01
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:01[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 00:58:01[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 00:58:02[0m - [36mDEBUG[0m - Planner LLM result: 1. March 8: International Women's Day

2. March 9: National Napping Day (U.S.)

3. March 10: World Kidney Day

4. March 11: Johnny Appleseed Day

5. March 12: Einstein Day

6. March 13: National Good Samaritan Day

7. March 14: Pi Day (3/14)

8. March 15: Ides of March

9. March 16: Artificial Intelligence Day

10. March 17: St. Patrick's Day

These events are a mix of international, national, and cultural observances. Some have historical significance while others celebrate notable figures or specific interests like science, technology, and culture.
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. March 8: International Women's Day

2. March 9: National Napping Day (U.S.)

3. March 10: World Kidney Day

4. March 11: Johnny Appleseed Day

5. March 12: Einstein Day

6. March 13: National Good Samaritan Day

7. March 14: Pi Day (3/14)

8. March 15: Ides of March

9. March 16: Artificial Intelligence Day

10. March 17: St. Patrick's Day

These events are a mix of international, national, and cultural observances. Some have historical significance while others celebrate notable figures or specific interests like science, technology, and culture.
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:02[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 2.2119s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:02[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:02[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:02
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:02[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:58:02[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:58:02[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Planner LLM result: 1. February 23, 2023 (Wednesday): World Radio Day

  2. February 24, 2023 (Thursday): United Nations International Day of Education

  3. February 25, 2023 (Friday): International Condom Day

  4. February 26, 2023 (Saturday): International Lego Day

  5. February 27, 2023 (Sunday): International Polar Bear Day

  6. February 28, 2023 (Monday): Rare Disease Day

  7. March 1, 2023 (Tuesday): World Book Day / UNESCO World Read Aloud Day
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 23, 2023 (Wednesday): World Radio Day

  2. February 24, 2023 (Thursday): United Nations International Day of Education

  3. February 25, 2023 (Friday): International Condom Day

  4. February 26, 2023 (Saturday): International Lego Day

  5. February 27, 2023 (Sunday): International Polar Bear Day

  6. February 28, 2023 (Monday): Rare Disease Day

  7. March 1, 2023 (Tuesday): World Book Day / UNESCO World Read Aloud Day
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 1.9253s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:03
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! Based on your request to use the 'calendar_search' tool with the argument {'date': '2025-05-15'}, I found that there is a scheduled meeting at 9 AM on that day, specifically with Sales.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Sure thing! Based on your request to use the 'calendar_search' tool with the argument {'date': '2025-05-15'}, I found that there is a scheduled meeting at 9 AM on that day, specifically with Sales.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.6603s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:03
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Good news! I have checked the calendar for May 15th, 2025, and it appears that you have a meeting scheduled with the Sales team at 9 AM.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Good news! I have checked the calendar for May 15th, 2025, and it appears that you have a meeting scheduled with the Sales team at 9 AM.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.5027s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:03
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:58:03[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:58:03[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. If you have any questions or need to prepare for anything specific, feel free to ask and I'll do my best to help out!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:58:04.4782728Z', 'done': True, 'done_reason': 'stop', 'total_duration': 603263500, 'load_duration': 6248300, 'prompt_eval_count': 92, 'prompt_eval_duration': 40443600, 'eval_count': 52, 'eval_duration': 556063000, 'model_name': 'mistral'} id='run-7b916787-3cc3-41d5-aa6a-d7c9aa9a2946-0' usage_metadata={'input_tokens': 92, 'output_tokens': 52, 'total_tokens': 144}
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. If you have any questions or need to prepare for anything specific, feel free to ask and I'll do my best to help out!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:58:04.4782728Z', 'done': True, 'done_reason': 'stop', 'total_duration': 603263500, 'load_duration': 6248300, 'prompt_eval_count': 92, 'prompt_eval_duration': 40443600, 'eval_count': 52, 'eval_duration': 556063000, 'model_name': 'mistral'} id='run-7b916787-3cc3-41d5-aa6a-d7c9aa9a2946-0' usage_metadata={'input_tokens': 92, 'output_tokens': 52, 'total_tokens': 144}
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. If you have any questions or need to prepare for anything specific, feel free to ask and I'll do my best to help out!
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. If you have any questions or need to prepare for anything specific, feel free to ask and I'll do my best to help out!
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.6075s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:04
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0072s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:04
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0060s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:04
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0054s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for improving sales performance. If you need any assistance or have any specific topics you'd like to address during the meeting, feel free to let me know. I'm here to help!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:58:04.5051223Z', 'done': True, 'done_reason': 'stop', 'total_duration': 857507100, 'load_duration': 4134400, 'prompt_eval_count': 92, 'prompt_eval_duration': 29293300, 'eval_count': 75, 'eval_duration': 823567800, 'model_name': 'mistral'} id='run-49b0dc3c-7683-4783-bcf6-983a1d5e1002-0' usage_metadata={'input_tokens': 92, 'output_tokens': 75, 'total_tokens': 167}

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for improving sales performance. If you need any assistance or have any specific topics you'd like to address during the meeting, feel free to let me know. I'm here to help!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-02T23:58:04.5051223Z', 'done': True, 'done_reason': 'stop', 'total_duration': 857507100, 'load_duration': 4134400, 'prompt_eval_count': 92, 'prompt_eval_duration': 29293300, 'eval_count': 75, 'eval_duration': 823567800, 'model_name': 'mistral'} id='run-49b0dc3c-7683-4783-bcf6-983a1d5e1002-0' usage_metadata={'input_tokens': 92, 'output_tokens': 75, 'total_tokens': 167}
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 00:58:04
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for improving sales performance. If you need any assistance or have any specific topics you'd like to address during the meeting, feel free to let me know. I'm here to help!
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Let's make sure to prepare any necessary materials and discuss our strategies for improving sales performance. If you need any assistance or have any specific topics you'd like to address during the meeting, feel free to let me know. I'm here to help!

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.8622s
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 00:58:04
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 00:58:04[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0038s
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 00:58:04
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 00:58:04[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:04[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:43[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:43[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:43[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:58:43[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:58:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:44[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:44[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 00:58:44[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:45[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 00:58:45[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 00:58:45[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 00:58:45[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 00:58:45[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 00:58:45[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 00:58:45[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 00:58:45[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 00:58:45[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:14[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:00:14[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:14[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:00:14[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:15
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:00:15 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0071s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:15
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0045s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:15
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0046s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:15
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0052s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:15
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:15[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:00:15[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Planner LLM result: 1. February 28, 2023 (Monday):

- World Rare Disease Day: An annual observance to raise awareness for rare diseases and improve access to treatment and medical representation for individuals affected by rare diseases.
- International Polar Bear Day: A day dedicated to raising awareness about the threats facing polar bears in the wild, such as climate change and habitat loss.

2. March 1, 2023 (Tuesday):

- World Compliment Day: A day set aside for people to express genuine compliments to others, with the goal of spreading positivity and kindness.
- National Pig Day: A celebration of pigs and their contributions to agriculture, food production, and human society.

3. March 2, 2023 (Wednesday):

- World Wetlands Day: An annual observance to raise awareness about the importance of wetlands for biodiversity conservation and sustainable development.
- National Peanut Butter Lovers Day: A day dedicated to celebrating the delicious spread made from ground peanuts, sugar, and salt.

4. March 3, 2023 (Thursday):

- World Wildlife Day: An annual observance to celebrate and raise awareness about the importance of wildlife and its role in ecosystems, as well as the threats facing many species worldwide.
- National Anthem Day: A day set aside to honor national anthems around the world and the history, culture, and values they represent.

5. March 4, 2023 (Friday):

- World Dance Day: An annual celebration of dance as a universal language that brings people together across cultures and borders.
- National Grammar Day: A day dedicated to promoting proper grammar usage, punctuation, and spelling in written communication.

6. March 5, 2023 (Saturday):

- World Book Day: An annual celebration of books, reading, and literacy, with events taking place around the world to encourage people to read and appreciate the power of books.
- National Caregivers Day: A day set aside to honor and recognize the important work of caregivers who provide support and assistance to family members, friends, or loved ones in need.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 28, 2023 (Monday):

- World Rare Disease Day: An annual observance to raise awareness for rare diseases and improve access to treatment and medical representation for individuals affected by rare diseases.
- International Polar Bear Day: A day dedicated to raising awareness about the threats facing polar bears in the wild, such as climate change and habitat loss.

2. March 1, 2023 (Tuesday):

- World Compliment Day: A day set aside for people to express genuine compliments to others, with the goal of spreading positivity and kindness.
- National Pig Day: A celebration of pigs and their contributions to agriculture, food production, and human society.

3. March 2, 2023 (Wednesday):

- World Wetlands Day: An annual observance to raise awareness about the importance of wetlands for biodiversity conservation and sustainable development.
- National Peanut Butter Lovers Day: A day dedicated to celebrating the delicious spread made from ground peanuts, sugar, and salt.

4. March 3, 2023 (Thursday):

- World Wildlife Day: An annual observance to celebrate and raise awareness about the importance of wildlife and its role in ecosystems, as well as the threats facing many species worldwide.
- National Anthem Day: A day set aside to honor national anthems around the world and the history, culture, and values they represent.

5. March 4, 2023 (Friday):

- World Dance Day: An annual celebration of dance as a universal language that brings people together across cultures and borders.
- National Grammar Day: A day dedicated to promoting proper grammar usage, punctuation, and spelling in written communication.

6. March 5, 2023 (Saturday):

- World Book Day: An annual celebration of books, reading, and literacy, with events taking place around the world to encourage people to read and appreciate the power of books.
- National Caregivers Day: A day set aside to honor and recognize the important work of caregivers who provide support and assistance to family members, friends, or loved ones in need.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 4.2476s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:19
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  I have looked up the calendar for May 15th, 2025, and it appears there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  I have looked up the calendar for May 15th, 2025, and it appears there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.3453s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:19
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:00:19[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:00:19[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current sales strategies and goals. If you need any assistance in preparing for this meeting, just let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:00:20.3084191Z', 'done': True, 'done_reason': 'stop', 'total_duration': 510833500, 'load_duration': 3569200, 'prompt_eval_count': 92, 'prompt_eval_duration': 1524800, 'eval_count': 61, 'eval_duration': 505739500, 'model_name': 'mistral'} id='run-48335295-8572-494a-bc1a-3e3e35f8662e-0' usage_metadata={'input_tokens': 92, 'output_tokens': 61, 'total_tokens': 153}
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current sales strategies and goals. If you need any assistance in preparing for this meeting, just let me know!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:00:20.3084191Z', 'done': True, 'done_reason': 'stop', 'total_duration': 510833500, 'load_duration': 3569200, 'prompt_eval_count': 92, 'prompt_eval_duration': 1524800, 'eval_count': 61, 'eval_duration': 505739500, 'model_name': 'mistral'} id='run-48335295-8572-494a-bc1a-3e3e35f8662e-0' usage_metadata={'input_tokens': 92, 'output_tokens': 61, 'total_tokens': 153}
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current sales strategies and goals. If you need any assistance in preparing for this meeting, just let me know!
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and be ready to discuss our current sales strategies and goals. If you need any assistance in preparing for this meeting, just let me know!
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.5172s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:20
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0159s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:20
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0104s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:20
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0071s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:00:20

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:00:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0052s
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:00:20
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:00:20[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:00:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:01:11[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:01:11
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:01:11 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:01:11[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:01:11[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0107s
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:01:11
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:01:11[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - Total tests collected: 1
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:01:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:09:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:09:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:09:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:09:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:10:05 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0046s
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:10:05 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:10:05 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Total tests collected: 1
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0052s
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0082s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0033s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Total tests collected: 1
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0035s
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:10:05 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:10:05 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0137s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0060s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:05[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0051s
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:10:05
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:05[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:10:05[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:06
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:10:06 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0056s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:06
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0035s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:06
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0035s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:06
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0036s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:06
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:06[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:10:06[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Australian Open Women's Final - The final match of the women's singles tournament at the Australian Open tennis Grand Slam event will be held at Melbourne Park in Australia.

3. February 4th (Thursday): Australian Open Men's Final - The final match of the men's singles tournament at the Australian Open tennis Grand Slam event will be held at Melbourne Park in Australia.

4. February 5th (Friday): Groundhog Day - A tradition where Punxsutawney Phil, a groundhog, is observed to predict the length of winter based on whether or not he sees his shadow when emerging from his burrow.

5. February 6th (Sunday): Chinese New Year - The beginning of the Lunar New Year, marking the start of the Year of the Tiger in the Chinese zodiac. Celebrations will take place across China and around the world.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Australian Open Women's Final - The final match of the women's singles tournament at the Australian Open tennis Grand Slam event will be held at Melbourne Park in Australia.

3. February 4th (Thursday): Australian Open Men's Final - The final match of the men's singles tournament at the Australian Open tennis Grand Slam event will be held at Melbourne Park in Australia.

4. February 5th (Friday): Groundhog Day - A tradition where Punxsutawney Phil, a groundhog, is observed to predict the length of winter based on whether or not he sees his shadow when emerging from his burrow.

5. February 6th (Sunday): Chinese New Year - The beginning of the Lunar New Year, marking the start of the Year of the Tiger in the Chinese zodiac. Celebrations will take place across China and around the world.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 4.1488s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:10
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! The tool 'calendar_search' has been checked for the specified date of May 15, 2025, and it appears there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Sure thing! The tool 'calendar_search' has been checked for the specified date of May 15, 2025, and it appears there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.5795s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:10
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:10:10[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:10:10[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game between the Los Angeles Rams and the Cincinnati Bengals at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A popular tradition where Punxsutawney Phil, a groundhog, is observed to see if he sees his shadow, predicting six more weeks of winter or an early spring.

3. February 4th (Thursday): National Creator of Futures and Options Exchange Month - Recognizing the importance of futures and options markets in financial stability and economic growth.

4. February 5th (Saturday): Chinese New Year - Celebrating the beginning of the Year of the Tiger according to the Chinese lunisolar calendar.

5. February 7th (Monday): International Day of Zero Tolerance for Female Genital Mutilation - Raising awareness and advocating against female genital mutilation worldwide.

6. February 8th (Tuesday): Safer Internet Day - Encouraging safer and more respectful use of digital technology, especially among children and young people.

7. February 10th (Thursday): World Cancer Day - A global initiative to raise awareness about cancer prevention, detection, and treatment.

8. February 14th (Monday): Valentine's Day - A day dedicated to expressing love and affection between loved ones.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game between the Los Angeles Rams and the Cincinnati Bengals at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A popular tradition where Punxsutawney Phil, a groundhog, is observed to see if he sees his shadow, predicting six more weeks of winter or an early spring.

3. February 4th (Thursday): National Creator of Futures and Options Exchange Month - Recognizing the importance of futures and options markets in financial stability and economic growth.

4. February 5th (Saturday): Chinese New Year - Celebrating the beginning of the Year of the Tiger according to the Chinese lunisolar calendar.

5. February 7th (Monday): International Day of Zero Tolerance for Female Genital Mutilation - Raising awareness and advocating against female genital mutilation worldwide.

6. February 8th (Tuesday): Safer Internet Day - Encouraging safer and more respectful use of digital technology, especially among children and young people.

7. February 10th (Thursday): World Cancer Day - A global initiative to raise awareness about cancer prevention, detection, and treatment.

8. February 14th (Monday): Valentine's Day - A day dedicated to expressing love and affection between loved ones.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 4.3589s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:11
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time. If you have any questions or need assistance in preparing for the meeting, feel free to ask!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:10:11.3678292Z', 'done': True, 'done_reason': 'stop', 'total_duration': 699271100, 'load_duration': 3056000, 'prompt_eval_count': 92, 'prompt_eval_duration': 27026200, 'eval_count': 58, 'eval_duration': 668221100, 'model_name': 'mistral'} id='run-8b506efa-81dd-42dc-87fe-69be8eaac247-0' usage_metadata={'input_tokens': 92, 'output_tokens': 58, 'total_tokens': 150}
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time. If you have any questions or need assistance in preparing for the meeting, feel free to ask!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:10:11.3678292Z', 'done': True, 'done_reason': 'stop', 'total_duration': 699271100, 'load_duration': 3056000, 'prompt_eval_count': 92, 'prompt_eval_duration': 27026200, 'eval_count': 58, 'eval_duration': 668221100, 'model_name': 'mistral'} id='run-8b506efa-81dd-42dc-87fe-69be8eaac247-0' usage_metadata={'input_tokens': 92, 'output_tokens': 58, 'total_tokens': 150}
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time. If you have any questions or need assistance in preparing for the meeting, feel free to ask!
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to mark your calendar and prepare any necessary materials ahead of time. If you have any questions or need assistance in preparing for the meeting, feel free to ask!
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.7036s
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:10:11
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Good news! I have checked the calendar for May 15th, 2025 and found that there is a meeting scheduled with the Sales team at 9 AM. Please mark your calendars accordingly.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Good news! I have checked the calendar for May 15th, 2025 and found that there is a meeting scheduled with the Sales team at 9 AM. Please mark your calendars accordingly.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.5224s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:11
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:10:11[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:10:11[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Summarization result: content=' Sure thing! Here\'s how I would interpret the results of the summarize_email tool for you:\n\n"It looks like there\'s a meeting scheduled for tomorrow at 9 AM with your sales team. Keep an eye on your calendar for more details!"' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:10:12.0261159Z', 'done': True, 'done_reason': 'stop', 'total_duration': 473100500, 'load_duration': 3639000, 'prompt_eval_count': 92, 'prompt_eval_duration': 1476900, 'eval_count': 56, 'eval_duration': 467476100, 'model_name': 'mistral'} id='run-84c6284d-46cb-47e1-b6c0-cfcded3894ba-0' usage_metadata={'input_tokens': 92, 'output_tokens': 56, 'total_tokens': 148}
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=' Sure thing! Here\'s how I would interpret the results of the summarize_email tool for you:\n\n"It looks like there\'s a meeting scheduled for tomorrow at 9 AM with your sales team. Keep an eye on your calendar for more details!"' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:10:12.0261159Z', 'done': True, 'done_reason': 'stop', 'total_duration': 473100500, 'load_duration': 3639000, 'prompt_eval_count': 92, 'prompt_eval_duration': 1476900, 'eval_count': 56, 'eval_duration': 467476100, 'model_name': 'mistral'} id='run-84c6284d-46cb-47e1-b6c0-cfcded3894ba-0' usage_metadata={'input_tokens': 92, 'output_tokens': 56, 'total_tokens': 148}
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! Here's how I would interpret the results of the summarize_email tool for you:

"It looks like there's a meeting scheduled for tomorrow at 9 AM with your sales team. Keep an eye on your calendar for more details!"
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! Here's how I would interpret the results of the summarize_email tool for you:

"It looks like there's a meeting scheduled for tomorrow at 9 AM with your sales team. Keep an eye on your calendar for more details!"
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.4772s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:12
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0063s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:12
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0066s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:12
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0058s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:10:12

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:10:12[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0042s
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:10:12
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:10:12[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:10:12[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Test logging initialized. Writing to: C:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:44
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:11:44 with enhanced colorful logging (VERBOSE MODE)
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0075s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:44
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0042s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:44
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0045s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:44
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Loaded test configuration from C:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0055s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:44
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:44[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:11:44[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Planner LLM result: 1. February 23, 2023 (Wednesday):

- World Radio Day: An annual event organized by UNESCO to celebrate radio as a medium and raise awareness about its importance in fostering sustainable development, peace, and social inclusion.
- National Tortilla Chip Day: A day dedicated to the popular snack made from corn or potato tortillas.

2. February 24, 2023 (Thursday):

- United Nations International Day of Human Space Flight: Commemorates the first human space flight by Yuri Gagarin on April 12, 1961.
- National Cream-Filled Chocolate Valentine: A day to enjoy chocolate treats filled with creamy goodness.

3. February 25, 2023 (Friday):

- International Day of Unleashed Creativity: A day to celebrate and encourage creativity in all its forms.
- National Clam Chowder Day: A day dedicated to enjoying this classic seafood soup.

4. February 26, 2023 (Saturday):

- National Pistachio Day: A day to enjoy pistachios, a popular nut known for its green color and sweet flavor.
- National Tell a Fairy Tale Day: A day to share and enjoy fairy tales with family and friends.

5. February 27, 2023 (Sunday):

- International Polar Bear Day: A day dedicated to raising awareness about the threats facing polar bears in the wild and supporting conservation efforts.
- National Strawberry Day: A day to celebrate one of the most popular fruits around the world.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 23, 2023 (Wednesday):

- World Radio Day: An annual event organized by UNESCO to celebrate radio as a medium and raise awareness about its importance in fostering sustainable development, peace, and social inclusion.
- National Tortilla Chip Day: A day dedicated to the popular snack made from corn or potato tortillas.

2. February 24, 2023 (Thursday):

- United Nations International Day of Human Space Flight: Commemorates the first human space flight by Yuri Gagarin on April 12, 1961.
- National Cream-Filled Chocolate Valentine: A day to enjoy chocolate treats filled with creamy goodness.

3. February 25, 2023 (Friday):

- International Day of Unleashed Creativity: A day to celebrate and encourage creativity in all its forms.
- National Clam Chowder Day: A day dedicated to enjoying this classic seafood soup.

4. February 26, 2023 (Saturday):

- National Pistachio Day: A day to enjoy pistachios, a popular nut known for its green color and sweet flavor.
- National Tell a Fairy Tale Day: A day to share and enjoy fairy tales with family and friends.

5. February 27, 2023 (Sunday):

- International Polar Bear Day: A day dedicated to raising awareness about the threats facing polar bears in the wild and supporting conservation efforts.
- National Strawberry Day: A day to celebrate one of the most popular fruits around the world.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 3.3522s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:48
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  I have successfully found an event in your calendar for the date you specified, May 15th, 2025. It appears that there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  I have successfully found an event in your calendar for the date you specified, May 15th, 2025. It appears that there is a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.4170s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:48
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:11:48[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:11:48[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM! Make sure to prepare any necessary materials and be ready to discuss strategies for increasing sales. If there's anything specific you need to focus on or any questions you have, feel free to let me know and I can help you prepare. Let's make tomorrow a productive day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:11:49.3704683Z', 'done': True, 'done_reason': 'stop', 'total_duration': 647770200, 'load_duration': 6188300, 'prompt_eval_count': 92, 'prompt_eval_duration': 1539300, 'eval_count': 78, 'eval_duration': 639533800, 'model_name': 'mistral'} id='run-91da1c50-ac45-4f73-9fa0-fcf142d91556-0' usage_metadata={'input_tokens': 92, 'output_tokens': 78, 'total_tokens': 170}
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM! Make sure to prepare any necessary materials and be ready to discuss strategies for increasing sales. If there's anything specific you need to focus on or any questions you have, feel free to let me know and I can help you prepare. Let's make tomorrow a productive day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:11:49.3704683Z', 'done': True, 'done_reason': 'stop', 'total_duration': 647770200, 'load_duration': 6188300, 'prompt_eval_count': 92, 'prompt_eval_duration': 1539300, 'eval_count': 78, 'eval_duration': 639533800, 'model_name': 'mistral'} id='run-91da1c50-ac45-4f73-9fa0-fcf142d91556-0' usage_metadata={'input_tokens': 92, 'output_tokens': 78, 'total_tokens': 170}
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM! Make sure to prepare any necessary materials and be ready to discuss strategies for increasing sales. If there's anything specific you need to focus on or any questions you have, feel free to let me know and I can help you prepare. Let's make tomorrow a productive day!
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM! Make sure to prepare any necessary materials and be ready to discuss strategies for increasing sales. If there's anything specific you need to focus on or any questions you have, feel free to let me know and I can help you prepare. Let's make tomorrow a productive day!
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.6543s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:49
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0093s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:49
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0096s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:49
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0071s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:11:49

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:11:49[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0052s
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:11:49
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:11:49[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:11:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:15:25[0m - [32mINFO[0m - Test logging initialized. Writing to: c:\dev\Riley2\logs\riley2_test.log
[35m2025-05-03 01:15:25[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:15:25[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:15:25[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:15:25[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:15:26[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:15:26[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:15:26[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:15:26[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:15:26[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:20:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:20:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:20:49[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:20:49[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:20:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:20:49[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:20:49[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:20:49[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:20:49[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:21:14 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test configurations loaded and validated successfully
------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
tings
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m


[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:21:14 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:21:14 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0061s
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0059s
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0033s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test log backed up to c:\dev\Riley2\logs\riley2_test.log.backup
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0036s
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Total tests collected: 1
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test log backed up to c:\dev\Riley2\logs\riley2_test.log.backup

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:21:14 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:21:14 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0137s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0060s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0054s
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:21:14
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test log backed up to c:\dev\Riley2\logs\riley2_test.log.backup

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:21:14[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:15
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:21:15 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Debug logging enabled - capturing detailed test information
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test 'test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow]' PASSED - Duration: 0.0053s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:15
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Tell me about any recent emails-team meeting tomorrow]' PASSED - Duration: 0.0031s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Tell me about any recent emails-team meeting tomorrow] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:15
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test 'test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15]' PASSED - Duration: 0.0028s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_email_reasoning[Any updates on my Italy trip?-trip to Italy on May 15] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:15
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test 'test_reasoning_queries[When am I going to Italy?-15052025]' PASSED - Duration: 0.0047s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:15
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:15[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:21:15[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A tradition where groundhogs are used to predict the arrival of spring based on whether or not they see their shadow when they emerge from their burrows.

3. February 4th (Thursday): National Creator of Future Days - Recognizing the importance of innovation and creativity in shaping our future.

4. February 5th (Saturday): Chinese New Year - Celebrating the start of the Year of the Tiger according to the Chinese lunisolar calendar.

5. February 7th (Monday): Safer Internet Day - A global campaign aimed at promoting safe and positive use of digital technologies for children and young people.

6. February 8th (Tuesday): International DJ Day - Celebrating the art of DJing and the impact it has on music and culture.
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A tradition where groundhogs are used to predict the arrival of spring based on whether or not they see their shadow when they emerge from their burrows.

3. February 4th (Thursday): National Creator of Future Days - Recognizing the importance of innovation and creativity in shaping our future.

4. February 5th (Saturday): Chinese New Year - Celebrating the start of the Year of the Tiger according to the Chinese lunisolar calendar.

5. February 7th (Monday): Safer Internet Day - A global campaign aimed at promoting safe and positive use of digital technologies for children and young people.

6. February 8th (Tuesday): International DJ Day - Celebrating the art of DJing and the impact it has on music and culture.
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 3.9414s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:18
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Planner LLM result: 1. March 2nd (Tuesday): Super Tuesday Primaries in the United States

2. March 3rd (Wednesday): World Wildlife Day - International observance day to celebrate and raise awareness of the world's wildlife.

3. March 4th (Thursday): National Grammar Day - A day dedicated to promoting correct grammar usage, appreciation for language, and the joy of good writing.

4. March 5th (Friday): International Women's Day - A global day celebrating the social, economic, cultural, and political achievements of women.

5. March 6th (Saturday): Daylight Saving Time starts in many countries (check your local time zone).

6. March 7th (Sunday): World Book Day - A celebration of books and reading, marked in many countries around the world.

7. March 8th (Monday): Holi - The Hindu spring festival known as the "Festival of Colors." It's celebrated in India and other countries with significant Hindu populations.
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. March 2nd (Tuesday): Super Tuesday Primaries in the United States

2. March 3rd (Wednesday): World Wildlife Day - International observance day to celebrate and raise awareness of the world's wildlife.

3. March 4th (Thursday): National Grammar Day - A day dedicated to promoting correct grammar usage, appreciation for language, and the joy of good writing.

4. March 5th (Friday): International Women's Day - A global day celebrating the social, economic, cultural, and political achievements of women.

5. March 6th (Saturday): Daylight Saving Time starts in many countries (check your local time zone).

6. March 7th (Sunday): World Book Day - A celebration of books and reading, marked in many countries around the world.

7. March 8th (Monday): Holi - The Hindu spring festival known as the "Festival of Colors." It's celebrated in India and other countries with significant Hindu populations.
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Test 'test_backend_planner_llm' PASSED - Duration: 3.2698s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_backend_planner_llm ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_interpret_tool_command_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:18
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:18[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:21:18[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Based on your request to search the calendar for May 15th, 2025, I found that you have a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Based on your request to search the calendar for May 15th, 2025, I found that you have a meeting scheduled at 9 AM with the Sales team.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.4996s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! Here's a friendly and helpful response to the user regarding their calendar search query:

"Great news! I found an upcoming meeting in your calendar on May 15, 2025, at 9 AM with the Sales team. Make sure to mark it down as an important date!"
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Sure thing! Here's a friendly and helpful response to the user regarding their calendar search query:

"Great news! I found an upcoming meeting in your calendar on May 15, 2025, at 9 AM with the Sales team. Make sure to mark it down as an important date!"
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_interpret_tool_command_basic' PASSED - Duration: 0.8063s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_interpret_tool_command_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_summarize_text_basic ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Summarization result: content=' Sure thing! Here\'s how I would interpret the result of the summarize_email tool for you:\n\n"It looks like there is a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to mark that time in your calendar so you don\'t miss it!"' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:21:19.8324402Z', 'done': True, 'done_reason': 'stop', 'total_duration': 726399700, 'load_duration': 3568900, 'prompt_eval_count': 92, 'prompt_eval_duration': 42765300, 'eval_count': 62, 'eval_duration': 679555100, 'model_name': 'mistral'} id='run-0f6a1fed-6ec9-4146-8e73-de8225a88bcb-0' usage_metadata={'input_tokens': 92, 'output_tokens': 62, 'total_tokens': 154}
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=' Sure thing! Here\'s how I would interpret the result of the summarize_email tool for you:\n\n"It looks like there is a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to mark that time in your calendar so you don\'t miss it!"' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:21:19.8324402Z', 'done': True, 'done_reason': 'stop', 'total_duration': 726399700, 'load_duration': 3568900, 'prompt_eval_count': 92, 'prompt_eval_duration': 42765300, 'eval_count': 62, 'eval_duration': 679555100, 'model_name': 'mistral'} id='run-0f6a1fed-6ec9-4146-8e73-de8225a88bcb-0' usage_metadata={'input_tokens': 92, 'output_tokens': 62, 'total_tokens': 154}
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! Here's how I would interpret the result of the summarize_email tool for you:

"It looks like there is a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to mark that time in your calendar so you don't miss it!"
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! Here's how I would interpret the result of the summarize_email tool for you:

"It looks like there is a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to mark that time in your calendar so you don't miss it!"
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.7309s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_choose_next_action_email' PASSED - Duration: 0.0078s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_email ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_trip ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_choose_next_action_trip' PASSED - Duration: 0.0077s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_choose_next_action_trip ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Setting up BackendManager test
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_get_decision ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_get_decision' PASSED - Duration: 0.0060s

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_get_decision ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:21:19

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_frontend_dummy' PASSED - Duration: 0.0032s
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Test log backed up to c:\dev\Riley2\logs\riley2_test.log.backup

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_frontend_dummy ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Summarization result: content=' Sure thing! Here\'s how I would interpret that for you:\n\n"Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time."' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:21:19.9859874Z', 'done': True, 'done_reason': 'stop', 'total_duration': 583988000, 'load_duration': 3353300, 'prompt_eval_count': 92, 'prompt_eval_duration': 22037900, 'eval_count': 54, 'eval_duration': 558085600, 'model_name': 'mistral'} id='run-b87c9273-e3c1-4f57-8619-b3788dfd0822-0' usage_metadata={'input_tokens': 92, 'output_tokens': 54, 'total_tokens': 146}
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=' Sure thing! Here\'s how I would interpret that for you:\n\n"Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time."' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:21:19.9859874Z', 'done': True, 'done_reason': 'stop', 'total_duration': 583988000, 'load_duration': 3353300, 'prompt_eval_count': 92, 'prompt_eval_duration': 22037900, 'eval_count': 54, 'eval_duration': 558085600, 'model_name': 'mistral'} id='run-b87c9273-e3c1-4f57-8619-b3788dfd0822-0' usage_metadata={'input_tokens': 92, 'output_tokens': 54, 'total_tokens': 146}
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! Here's how I would interpret that for you:

"Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time."
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! Here's how I would interpret that for you:

"Great news! It looks like we have a meeting scheduled with the sales team tomorrow at 9 AM. Make sure to mark your calendar and prepare any necessary materials ahead of time."
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test 'test_summarize_text_basic' PASSED - Duration: 0.5889s
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:21:19
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Test log backed up to c:\dev\Riley2\logs\riley2_test.log.backup

[32m[1m================================================================================[0m
[32m[1m>> FINISHED TEST: test_summarize_text_basic ===[0m
[32m[1m================================================================================[0m
[35m2025-05-03 01:21:19[0m - [36mDEBUG[0m - Test teardown completed
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Total tests collected: 3
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:21:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:22:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:22:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:22:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:22:24[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:22:25[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:22:25[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:22:25[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:22:25[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:22:25[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:23:59[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:23:59[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:23:59[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:23:59[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:23:59[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:23:59[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 01:23:59[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 01:23:59[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 01:23:59[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:24:14
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:24:14
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:24:14 with enhanced colorful logging (MAXIMUM VERBOSITY)

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:24:14
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:24:14 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:24:14
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:24:14
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:24:14[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:24:14
[35m2025-05-03 01:24:14[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:24:15

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:24:15
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:24:15 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:24:15 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:24:15
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 01:24:15
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 01:24:15 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:15[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:15[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 01:24:15[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 01:24:17[0m - [36mDEBUG[0m - Planner LLM result: 1. February 22: International Mother Language Day (UNESCO)

2. February 23: World Radio Day (UNESCO)

3. February 24: United Nations System Chief Executives Board for Coordination Meeting (New York, USA)

4. February 25: International Day of Making a Difference (IDMD)

5. February 26: International Legume Day

6. February 27: International Polar Bear Day

7. February 28: International Moment of Laughter Day

8. February 29 (Leap Year): Rare Disease Day (Last observed on Feb 29, 2020; next observed on Feb 29, 2024)
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 22: International Mother Language Day (UNESCO)

2. February 23: World Radio Day (UNESCO)

3. February 24: United Nations System Chief Executives Board for Coordination Meeting (New York, USA)

4. February 25: International Day of Making a Difference (IDMD)

5. February 26: International Legume Day

6. February 27: International Polar Bear Day

7. February 28: International Moment of Laughter Day

8. February 29 (Leap Year): Rare Disease Day (Last observed on Feb 29, 2020; next observed on Feb 29, 2024)
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:17[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:17[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:24:17[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:24:17[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:24:18[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:24:18[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! Here is a possible response:

"I found a meeting scheduled for May 15th, 2025 at 9 AM on your calendar. It appears this is a meeting with the Sales team."

This response concisely and clearly summarizes the result returned by the tool, providing the user with the necessary information about the meeting's date and attendees.
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Sure thing! Here is a possible response:

"I found a meeting scheduled for May 15th, 2025 at 9 AM on your calendar. It appears this is a meeting with the Sales team."

This response concisely and clearly summarizes the result returned by the tool, providing the user with the necessary information about the meeting's date and attendees.
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:18[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:24:18[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:24:18[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Planner LLM result: 1. February 8, 2023: Super Bowl LVI (American Football)

2. February 9, 2023: Grammy Awards (Music)

3. February 10, 2023: National Appreciate a Dragon Day (Cultural Holiday)

4. February 11, 2023: Darwin Day (Science and Evolution)

5. February 12, 2023: Lincoln's Birthday (U.S. Federal Holiday)

6. February 13, 2023: Valentine's Day (Romantic Holiday)

7. February 14, 2023: Chinese New Year (Lunar Festival)

8. February 15, 2023: Presidents' Day (U.S. Federal Holiday)

9. February 16, 2023: Random Acts of Kindness Day (Community Event)

10. February 17, 2023: National Cabbage Day (Food-related Holiday)

11. February 18, 2023: George Washington's Birthday (U.S. Federal Holiday)

12. February 19, 2023: International Marriage Day (Romantic Holiday)

13. February 20, 2023: National Love Your Pet Day (Animal-related Holiday)
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 8, 2023: Super Bowl LVI (American Football)

2. February 9, 2023: Grammy Awards (Music)

3. February 10, 2023: National Appreciate a Dragon Day (Cultural Holiday)

4. February 11, 2023: Darwin Day (Science and Evolution)

5. February 12, 2023: Lincoln's Birthday (U.S. Federal Holiday)

6. February 13, 2023: Valentine's Day (Romantic Holiday)

7. February 14, 2023: Chinese New Year (Lunar Festival)

8. February 15, 2023: Presidents' Day (U.S. Federal Holiday)

9. February 16, 2023: Random Acts of Kindness Day (Community Event)

10. February 17, 2023: National Cabbage Day (Food-related Holiday)

11. February 18, 2023: George Washington's Birthday (U.S. Federal Holiday)

12. February 19, 2023: International Marriage Day (Romantic Holiday)

13. February 20, 2023: National Love Your Pet Day (Animal-related Holiday)
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Great news! I have checked the calendar for May 15th, 2025 and found that there is a meeting scheduled with the Sales team at 9 AM. Please make sure to prepare accordingly for this important engagement.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Great news! I have checked the calendar for May 15th, 2025 and found that there is a meeting scheduled with the Sales team at 9 AM. Please make sure to prepare accordingly for this important engagement.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials ahead of time so you're ready to go! If there's anything specific you need to know or discuss in the meeting, feel free to reach out and let me know. I'll do my best to help you get organized and prepared for a successful meeting. Have a great day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:24:19.8068644Z', 'done': True, 'done_reason': 'stop', 'total_duration': 1055993300, 'load_duration': 7745200, 'prompt_eval_count': 92, 'prompt_eval_duration': 40690000, 'eval_count': 89, 'eval_duration': 1006896100, 'model_name': 'mistral'} id='run-f779ca41-9f5c-4b67-9e6f-6092083cdc46-0' usage_metadata={'input_tokens': 92, 'output_tokens': 89, 'total_tokens': 181}
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials ahead of time so you're ready to go! If there's anything specific you need to know or discuss in the meeting, feel free to reach out and let me know. I'll do my best to help you get organized and prepared for a successful meeting. Have a great day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:24:19.8068644Z', 'done': True, 'done_reason': 'stop', 'total_duration': 1055993300, 'load_duration': 7745200, 'prompt_eval_count': 92, 'prompt_eval_duration': 40690000, 'eval_count': 89, 'eval_duration': 1006896100, 'model_name': 'mistral'} id='run-f779ca41-9f5c-4b67-9e6f-6092083cdc46-0' usage_metadata={'input_tokens': 92, 'output_tokens': 89, 'total_tokens': 181}
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials ahead of time so you're ready to go! If there's anything specific you need to know or discuss in the meeting, feel free to reach out and let me know. I'll do my best to help you get organized and prepared for a successful meeting. Have a great day!
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials ahead of time so you're ready to go! If there's anything specific you need to know or discuss in the meeting, feel free to reach out and let me know. I'll do my best to help you get organized and prepared for a successful meeting. Have a great day!
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 01:24:19[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:24:19
[35m2025-05-03 01:24:19[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:20[0m - [36mDEBUG[0m - Summarization result: content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials or updates you might want to discuss during the meeting. Have a great day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:24:20.1571343Z', 'done': True, 'done_reason': 'stop', 'total_duration': 442409700, 'load_duration': 5550500, 'prompt_eval_count': 92, 'prompt_eval_duration': 21519500, 'eval_count': 47, 'eval_duration': 415339700, 'model_name': 'mistral'} id='run-4abca067-1ebb-4c2e-ae08-4102315d8e7e-0' usage_metadata={'input_tokens': 92, 'output_tokens': 47, 'total_tokens': 139}
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials or updates you might want to discuss during the meeting. Have a great day!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T00:24:20.1571343Z', 'done': True, 'done_reason': 'stop', 'total_duration': 442409700, 'load_duration': 5550500, 'prompt_eval_count': 92, 'prompt_eval_duration': 21519500, 'eval_count': 47, 'eval_duration': 415339700, 'model_name': 'mistral'} id='run-4abca067-1ebb-4c2e-ae08-4102315d8e7e-0' usage_metadata={'input_tokens': 92, 'output_tokens': 47, 'total_tokens': 139}
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials or updates you might want to discuss during the meeting. Have a great day!
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Sure thing! It looks like there's a meeting scheduled for tomorrow at 9 AM with the sales team. Make sure to prepare any necessary materials or updates you might want to discuss during the meeting. Have a great day!
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 01:24:20
[35m2025-05-03 01:24:20[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:37:51[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:37:51[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:37:51[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 10:37:51[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 10:37:52[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:37:52[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 10:37:52[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 10:37:52[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 10:37:52[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_frontend_dummy ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:38:23
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:38:23 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:38:23
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:38:23
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:38:23 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:38:23
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:38:23 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:38:23
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 10:38:23[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:38:23
[35m2025-05-03 10:38:23[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_backend_planner_llm ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:38:24
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:38:24 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_choose_next_action_email ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:38:24
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:38:24 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:38:24
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_email_reasoning[What emails did I get from my boss?-team meeting tomorrow] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:38:24
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:38:24 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:24[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:24[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 10:38:24[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 10:38:30[0m - [36mDEBUG[0m - Planner LLM result: 1. March 23, 2023: World Meteorite Day

2. March 24, 2023: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

3. March 25, 2023: International Day of Remembrance of the Victims of Slavery and the Transatlantic Slave Trade

4. March 26, 2023: World Tuberculosis Day

5. March 27, 2023: World Theater Day

6. March 28, 2023: International Earth Hour (Time varies by location)

7. March 29, 2023: Holi (Festival of Colors), a Hindu spring festival celebrated in India and Nepal, as well as other parts of the world with significant populations of Indian subcontinent expatriates or immigrants.
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. March 23, 2023: World Meteorite Day

2. March 24, 2023: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

3. March 25, 2023: International Day of Remembrance of the Victims of Slavery and the Transatlantic Slave Trade

4. March 26, 2023: World Tuberculosis Day

5. March 27, 2023: World Theater Day

6. March 28, 2023: International Earth Hour (Time varies by location)

7. March 29, 2023: Holi (Festival of Colors), a Hindu spring festival celebrated in India and Nepal, as well as other parts of the world with significant populations of Indian subcontinent expatriates or immigrants.
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:30[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 10:38:30[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 10:38:30[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 10:38:30[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will be held at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A traditional American holiday where Punxsutawney Phil, a groundhog, is observed to predict the arrival of spring based on whether or not he sees his shadow when emerging from his burrow.

3. February 4th (Thursday): National Creator of Futures and Options Exchange (CFE) Anniversary - Commemorates the establishment of the Chicago Mercantile Exchange, which was founded on this day in 1898.

4. February 5th (Saturday): Chinese New Year - Celebrating the beginning of the Lunar New Year and the start of the Year of the Tiger according to the Chinese zodiac.

5. February 6th (Sunday): National Chocolate Covered Nut Day - A day dedicated to enjoying chocolate covered nuts, such as peanuts, almonds, or cashews.
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will be held at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A traditional American holiday where Punxsutawney Phil, a groundhog, is observed to predict the arrival of spring based on whether or not he sees his shadow when emerging from his burrow.

3. February 4th (Thursday): National Creator of Futures and Options Exchange (CFE) Anniversary - Commemorates the establishment of the Chicago Mercantile Exchange, which was founded on this day in 1898.

4. February 5th (Saturday): Chinese New Year - Celebrating the beginning of the Lunar New Year and the start of the Year of the Tiger according to the Chinese zodiac.

5. February 6th (Sunday): National Chocolate Covered Nut Day - A day dedicated to enjoying chocolate covered nuts, such as peanuts, almonds, or cashews.
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:30[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:30[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 10:38:30[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 10:38:30[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Sure thing! Here's a friendly and easy-to-understand response for the user:

"Great news! I found that a meeting is scheduled for May 15th, 2025 at 9 AM with our Sales team."
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Sure thing! Here's a friendly and easy-to-understand response for the user:

"Great news! I found that a meeting is scheduled for May 15th, 2025 at 9 AM with our Sales team."
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:31[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  Great news! I've checked the calendar for May 15th, 2025 and it looks like you have a meeting scheduled with Sales at 9 AM on that day. Please mark your schedule accordingly.
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  Great news! I've checked the calendar for May 15th, 2025 and it looks like you have a meeting scheduled with Sales at 9 AM on that day. Please mark your schedule accordingly.
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:31[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 10:38:31[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. Let's make it productive and successful!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T09:38:31.8912906Z', 'done': True, 'done_reason': 'stop', 'total_duration': 616787900, 'load_duration': 9967000, 'prompt_eval_count': 92, 'prompt_eval_duration': 15922100, 'eval_count': 52, 'eval_duration': 590386700, 'model_name': 'mistral'} id='run-0e092dbf-1950-4195-ab6d-766c4e281c11-0' usage_metadata={'input_tokens': 92, 'output_tokens': 52, 'total_tokens': 144}
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. Let's make it productive and successful!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T09:38:31.8912906Z', 'done': True, 'done_reason': 'stop', 'total_duration': 616787900, 'load_duration': 9967000, 'prompt_eval_count': 92, 'prompt_eval_duration': 15922100, 'eval_count': 52, 'eval_duration': 590386700, 'model_name': 'mistral'} id='run-0e092dbf-1950-4195-ab6d-766c4e281c11-0' usage_metadata={'input_tokens': 92, 'output_tokens': 52, 'total_tokens': 144}
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. Let's make it productive and successful!
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! It looks like you have a meeting scheduled for tomorrow at 9 AM with your sales team. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. Let's make it productive and successful!
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:38:31
[35m2025-05-03 10:38:31[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Summarization result: content=" Great news! I see that we have a meeting scheduled with the sales team for tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T09:38:31.9996183Z', 'done': True, 'done_reason': 'stop', 'total_duration': 575006200, 'load_duration': 6078300, 'prompt_eval_count': 92, 'prompt_eval_duration': 45299400, 'eval_count': 52, 'eval_duration': 523628500, 'model_name': 'mistral'} id='run-66814960-83d9-4625-8413-3f0cec1ebd7a-0' usage_metadata={'input_tokens': 92, 'output_tokens': 52, 'total_tokens': 144}
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! I see that we have a meeting scheduled with the sales team for tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T09:38:31.9996183Z', 'done': True, 'done_reason': 'stop', 'total_duration': 575006200, 'load_duration': 6078300, 'prompt_eval_count': 92, 'prompt_eval_duration': 45299400, 'eval_count': 52, 'eval_duration': 523628500, 'model_name': 'mistral'} id='run-66814960-83d9-4625-8413-3f0cec1ebd7a-0' usage_metadata={'input_tokens': 92, 'output_tokens': 52, 'total_tokens': 144}
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! I see that we have a meeting scheduled with the sales team for tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. Looking forward to it!
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! I see that we have a meeting scheduled with the sales team for tomorrow at 9 AM. Let's make sure to prepare any necessary materials ahead of time so we can make the most out of our discussion. Looking forward to it!
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 10:38:32[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:38:32
[35m2025-05-03 10:38:32[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m

[36m[1m================================================================================[0m
[36m[1m>> STARTING TEST: test_reasoning_queries[When am I going to Italy?-15052025] ===[0m
[36m[1m================================================================================[0m
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:47:55
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 10:47:55
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:47:55 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 10:47:55 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 10:47:55[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:47:55
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 10:47:55
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 10:47:55[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:01:44[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:01:44[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:01:44[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 11:01:44[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 11:01:45[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:01:45[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 11:01:45[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 11:01:45[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 11:01:45[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:06:36 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
---[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:06:36
=============================================[0m

[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:06:36 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m


[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:06:36 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:06:36 with enhanced colorful logging (MAXIMUM VERBOSITY)

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:06:36 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:06:36
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:36[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 11:06:36[0m - [32mINFO[0m - Test configurations loaded and validated successfully

[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:06:37
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Test marker: parametrize
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:06:37 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'What emails did I get from my boss?'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - InputQuery] -> What emails did I get from my boss?
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'What emails did I get from my boss?'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for emails from boss
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/02 to 2025/05/03.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - Mock: Retrieved 2 emails.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailAgent - DownloadResult] -> Downloaded 2 emails
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Filtering emails by sender: boss@company.com
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - Mock: Found 1 emails from boss@company.com.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailAgent - FilterResult] -> Filtered 1 emails
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 101 characters.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Email summary: Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - OutputResponse] -> Several emails from your boss, including a message about a team meeting tomorrow at 9am.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[What emails did I get from my boss?]
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Tell me about any recent emails'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - InputQuery] -> Tell me about any recent emails
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Tell me about any recent emails'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for recent emails
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/05/03 to 2025/05/03.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - Mock: Retrieved 0 emails.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 16 characters.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Email summary: Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - OutputResponse] -> Various recent emails including an update about a team meeting tomorrow and some newsletters.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Tell me about any recent emails]
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_email_reasoning[0m] Testing email reasoning with query: 'Any updates on my Italy trip?'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Initialized EmailAgentMock with emails from config for 3 dates
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - InputQuery] -> Any updates on my Italy trip?
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailReasoner - Processing] -> Query: 'Any updates on my Italy trip?'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailReasoner - EmailSearch] -> Searching for Italy trip emails
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Downloading emails from 2025/04/30 to 2025/05/03.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - Mock: Retrieved 5 emails.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Summarizing email batch of size: 109 characters.
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Email summary: Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [EmailAgent - SummaryResult] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - OutputResponse] -> Your trip to Italy on May 15 has been confirmed.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_email_reasoning[Any updates on my Italy trip?]
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_reasoning_queries[0m] Testing reasoning with query: 'When am I going to Italy?'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Initialized CalendarAgentMock with 6 events from config
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - InputQuery] -> When am I going to Italy?
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [BackendManager - Reasoner] -> Processing question: 'When am I going to Italy?'
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> Searching April 2025 for Italy events
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/04/01 to 2025/04/30 with query: italy
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - Mock: Found 0 calendar events matching criteria
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> No matching events found.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [BackendManager - CalendarSearch] -> No Italy events in April. Searching May 2025
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Mock: Scanning calendar from 2025/05/01 to 2025/05/31 with query: italy
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - Mock: Found 1 calendar events matching criteria
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [CalendarAgent - EventResult] -> Found events: [{'title': 'Holiday Italy', 'date': '2025/05/15', 'all_day': True, 'end_date': '2025/05/25', 'location': 'Rome, Italy', 'description': 'Annual vacation - booked flights and hotel'}]
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [BackendManager - DecisionMade] -> Found Italy event in May
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [Test - OutputResponse] -> 15052025
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_reasoning_queries[When am I going to Italy?]
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:37[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_backend_planner_llm[0m] Testing backend_planner_llm decision-making.
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:37[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planning with prompt: What events are coming up next week?
[35m2025-05-03 11:06:37[0m - [36mDEBUG[0m - Backend planner LLM called with prompt: What events are coming up next week?
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Planner LLM result: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A tradition where groundhogs are used to predict the end of winter based on whether they see their shadow or not.

3. February 4th (Thursday): National Create a Vacuum Day - A day dedicated to celebrating vacuums and the work they do in keeping our homes clean.

4. February 5th (Saturday): Chinese New Year - The first day of the Lunar New Year, marking the start of the Year of the Tiger according to the Chinese zodiac.

5. February 7th (Monday): Safer Internet Day - A global campaign aimed at promoting safer and more responsible use of digital technology, especially among children and young people.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. February 2nd (Tuesday): Super Bowl LVI - The National Football League's championship game will take place at SoFi Stadium in Inglewood, California.

2. February 3rd (Wednesday): Groundhog Day - A tradition where groundhogs are used to predict the end of winter based on whether they see their shadow or not.

3. February 4th (Thursday): National Create a Vacuum Day - A day dedicated to celebrating vacuums and the work they do in keeping our homes clean.

4. February 5th (Saturday): Chinese New Year - The first day of the Lunar New Year, marking the start of the Year of the Tiger according to the Chinese zodiac.

5. February 7th (Monday): Safer Internet Day - A global campaign aimed at promoting safer and more responsible use of digital technology, especially among children and young people.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Planner LLM result: 1. March 23, 2023: World Meteorite Day

2. March 24, 2023: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

3. March 25, 2023: International Waffle Day

4. March 26, 2023: World Theatre Day

5. March 27, 2023: World Theatre Day (Alternate Date)

6. March 28, 2023: International Make Up Your Own Holiday Day

7. March 29, 2023: International Corned Beef Hash Day

8. March 30, 2023: Take Our Daughters and Sons to Work Day (USA)

9. March 31, 2023: World Backup Day
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendPlanner - Planner] -> Planner decided: 1. March 23, 2023: World Meteorite Day

2. March 24, 2023: United Nations International Day for the Right to the Truth concerning Gross Human Rights Violations and for the Dignity of Victims

3. March 25, 2023: International Waffle Day

4. March 26, 2023: World Theatre Day

5. March 27, 2023: World Theatre Day (Alternate Date)

6. March 28, 2023: International Make Up Your Own Holiday Day

7. March 29, 2023: International Corned Beef Hash Day

8. March 30, 2023: Take Our Daughters and Sons to Work Day (USA)

9. March 31, 2023: World Backup Day
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_backend_planner_llm
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_interpret_tool_command_basic[0m] Testing interpret_tool_command basic functionality.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Tool: calendar_search, Args: {'date': '2025-05-15'}, Output: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Interpreting tool command: calendar_search with args: {'date': '2025-05-15'} and result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - [interpret_tool_command] tool_name: calendar_search, args: {'date': '2025-05-15'}, result: Meeting scheduled for 9 AM with Sales.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  I'm delighted to inform you that according to our calendar search for May 15th, 2025, there is a meeting scheduled at 9 AM with the Sales team. Please make sure to mark this in your personal calendar if necessary.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  I'm delighted to inform you that according to our calendar search for May 15th, 2025, there is a meeting scheduled at 9 AM with the Sales team. Please make sure to mark this in your personal calendar if necessary.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Interpretation complete for tool: calendar_search
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - [interpret_tool_command] Final Response:  I have successfully searched for your requested date on the calendar, and it appears that there is a meeting scheduled for May 15th, 2025 at 9 AM with the Sales team. Is there anything else you needed assistance with today?
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendManager - ToolInterpreter] -> Human-readable output:  I have successfully searched for your requested date on the calendar, and it appears that there is a meeting scheduled for May 15th, 2025 at 9 AM with the Sales team. Is there anything else you needed assistance with today?
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_interpret_tool_command_basic
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:40[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_summarize_text_basic[0m] Testing summarize_text basic functionality.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Input to summarize: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 11:06:40[0m - [36mDEBUG[0m - Summarize text called with: Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 11:06:40[0m - [32mINFO[0m - [[34m[1mLLM Prompt Input[0m] Meeting tomorrow at 9 AM with sales team.
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Summarization result: content=' Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. See you then!' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T10:06:41.4613647Z', 'done': True, 'done_reason': 'stop', 'total_duration': 556841800, 'load_duration': 6190100, 'prompt_eval_count': 92, 'prompt_eval_duration': 42926200, 'eval_count': 46, 'eval_duration': 507725500, 'model_name': 'mistral'} id='run-60fcb0be-8c96-491e-9935-9794f3b4131f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 46, 'total_tokens': 138}
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=' Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. See you then!' additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T10:06:41.4613647Z', 'done': True, 'done_reason': 'stop', 'total_duration': 556841800, 'load_duration': 6190100, 'prompt_eval_count': 92, 'prompt_eval_duration': 42926200, 'eval_count': 46, 'eval_duration': 507725500, 'model_name': 'mistral'} id='run-60fcb0be-8c96-491e-9935-9794f3b4131f-0' usage_metadata={'input_tokens': 92, 'output_tokens': 46, 'total_tokens': 138}
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. See you then!
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! It looks like you have a meeting scheduled with your sales team tomorrow at 9 AM. Make sure to prepare any necessary materials and be ready to discuss the latest updates on our sales strategies. See you then!
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_email[0m] Testing BackendManager's decision-making for email search query
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Check latest email from boss
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Check latest email from boss', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is explicitly asking about emails, specifically the latest email from the boss.
        This is clearly related to email communication rather than scheduling or knowledge lookup.
        The email_search tool is the most appropriate choice to find recent emails from a specific sender.
        
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Choosing next action for query: Check latest email from boss with context: {}
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Next action chosen: email_search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m email_search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Query about email from boss requires email_search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [33m[1mARGS:[0m [36m{
  "sender": "boss@company.com",
  "limit": 1
}[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[33mTool Usage - email_search[0m] -> [32m[1mRESULT:[0m {"emails": [{"subject": "Project Update", "date": "2025-05-02", "snippet": "Please provide status on Riley2..."}]}
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: The latest email from your boss is from today with the subject 'Project Update'. It starts with: 'Please provide status on Riley2...'
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [36m[1mEvent Sequence: Email Query Flow[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about latest boss email
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined email search needed
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 3. [Action] BackendManager -> EmailAgent: Executed email search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 4. [Result] EmailAgent -> BackendManager: Found latest email about Project Update
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided email details
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_email
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_choose_next_action_trip[0m] Testing BackendManager's decision-making for a trip to Italy query
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: Planning a trip to Italy
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on the query 'Planning a trip to Italy', decide which action to take. Options: calendar_search, email_search, knowledge_lookup
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The query is about planning a trip to Italy, which is a future event. 
        This is most likely related to scheduling or checking existing plans.
        The calendar_search tool would be most appropriate to find any existing
        trip details or to help plan a new trip by checking availability.
        
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Choosing next action for query: Planning a trip to Italy with context: {}
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Next action chosen: calendar_search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['calendar_search', 'email_search', 'knowledge_lookup']
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m calendar_search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m Trip to Italy requires calendar search to check schedules
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [33m[1mARGS:[0m [36m{
  "query": "trip to Italy",
  "start_date": "2025-05-01",
  "end_date": "2025-06-30"
}[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[33mTool Usage - calendar_search[0m] -> [32m[1mRESULT:[0m {"events": [{"title": "Italy Trip", "date": "2025-05-15", "duration": "14 days"}]}
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36mBACKEND_MANAGER[0m] [32m[1m<<<[0m [[36mUSER[0m]: I found your Italy Trip scheduled for May 15th, 2025 for a duration of 14 days.
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [36m[1mEvent Sequence: Italy Trip Query Flow[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Asked about trip to Italy
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 2. [[35mDecision[0m] BackendManager -> LLM: Determined calendar search needed
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 3. [Action] BackendManager -> CalendarAgent: Executed calendar search
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 4. [Result] CalendarAgent -> BackendManager: Found Italy trip on May 15th
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 5. [Output] BackendManager -> User: Provided trip details
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_choose_next_action_trip
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_get_decision[0m] Testing BackendManager's end-turn decision logic
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[36mBACKEND_MANAGER[0m]: I have enough information now, thanks.
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [33m[1mINPUT:[0m Based on user message 'I have enough information now, thanks.', should we end the conversation? (yes/no)
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - BackendLLM[0m] -> [36m[1mOUTPUT:[0m 
        The user has explicitly stated they have enough information.
        They've used a clear ending phrase "thanks" which typically signals conversation closure.
        There's no question or request for additional information.
        Therefore, it's appropriate to end the conversation turn.
        
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Getting decision for prompt: I have enough information now, thanks.
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Decision made: yes
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [33m[1mOPTIONS:[0m ['continue', 'end conversation']
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mSELECTED:[0m end conversation
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35mDecision - BackendManager[0m] -> [32m[1mREASONING:[0m User indicated they have enough information
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [36m[1mEvent Sequence: End Turn Decision Flow[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 1. [Input] User -> BackendManager: Said they have enough information
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 2. [Analysis] BackendManager -> LLM: Analyzed if conversation should end
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 3. [[35mDecision[0m] BackendManager -> System: Decided to end the conversation turn
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_get_decision
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:06:41
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [36mDEBUG[0m - Summarization result: content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our current strategies to ensure a productive session. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T10:06:41.5542314Z', 'done': True, 'done_reason': 'stop', 'total_duration': 553146400, 'load_duration': 8404700, 'prompt_eval_count': 92, 'prompt_eval_duration': 24606800, 'eval_count': 49, 'eval_duration': 520134900, 'model_name': 'mistral'} id='run-172d1f25-9791-494a-87b0-d207a5f9993c-0' usage_metadata={'input_tokens': 92, 'output_tokens': 49, 'total_tokens': 141}
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Raw Output[0m] content=" Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our current strategies to ensure a productive session. Looking forward to it!" additional_kwargs={} response_metadata={'model': 'mistral', 'created_at': '2025-05-03T10:06:41.5542314Z', 'done': True, 'done_reason': 'stop', 'total_duration': 553146400, 'load_duration': 8404700, 'prompt_eval_count': 92, 'prompt_eval_duration': 24606800, 'eval_count': 49, 'eval_duration': 520134900, 'model_name': 'mistral'} id='run-172d1f25-9791-494a-87b0-d207a5f9993c-0' usage_metadata={'input_tokens': 92, 'output_tokens': 49, 'total_tokens': 141}
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[34m[1mLLM Final Output[0m]:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our current strategies to ensure a productive session. Looking forward to it!
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [BackendManager - Summarizer] -> Summarized result:  Great news! It looks like we have a meeting scheduled for tomorrow at 9 AM with the sales team. Let's make sure to prepare any necessary materials and discuss our current strategies to ensure a productive session. Looking forward to it!
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_summarize_text_basic
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:06:41
[35m2025-05-03 11:06:41[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:07:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\calendar_events.json
[35m2025-05-03 11:07:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\email_data.json
[35m2025-05-03 11:07:06[0m - [36mDEBUG[0m - Loaded test configuration from c:\dev\Riley2\tests\config\mocks\knowledge_base.json
[35m2025-05-03 11:07:06[0m - [32mINFO[0m - Test configurations loaded and validated successfully
[35m2025-05-03 11:07:07[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:07:07[0m - [32mINFO[0m - Test session finished with exit status: 0
[35m2025-05-03 11:07:07[0m - [32mINFO[0m - Total tests collected: 11
[35m2025-05-03 11:07:07[0m - [32mINFO[0m - Tests failed: 0
[35m2025-05-03 11:07:07[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:23:09[0m - [36mDEBUG[0m - Test setup started at 2025-05-03 11:23:09
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Starting test session at 2025-05-03 11:23:09 with enhanced colorful logging (MAXIMUM VERBOSITY)
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[44m[37mTEST STEP - test_frontend_dummy[0m] Testing frontend response to meeting query
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[36mUSER[0m] [33m[1m>>>[0m [[35m[1mFRONTEND[0m]: What meetings do I have today?
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [33m[1mINPUT:[0m User is asking about meetings today. Generate a helpful response.
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[34m[1mLLM Call - Frontend LLM[0m] -> [36m[1mOUTPUT:[0m You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[35m[1mFRONTEND[0m] [32m[1m<<<[0m [[36mUSER[0m]: You have a meeting at 3 PM today with the marketing team.
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - 
[33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [36m[1mEvent Sequence: Frontend Query Flow[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - 1. [Input] User -> Frontend: Asked about meetings
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - 2. [Process] Frontend -> LLM: Generated query response
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - 3. [Output] Frontend -> User: Provided meeting information
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m

[35m2025-05-03 11:23:09[0m - [32mINFO[0m - 
[32m[1m================================================================================[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[42m[30m[1mTEST PASSED[0m] test_frontend_dummy
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [32m[1m================================================================================[0m

[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [[36m[1mSYSTEM - TEST_SESSION[0m] Test session complete at 2025-05-03 11:23:09
[35m2025-05-03 11:23:09[0m - [32mINFO[0m - [33m--------------------------------------------------------------------------------[0m
